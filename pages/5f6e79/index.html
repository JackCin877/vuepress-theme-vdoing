<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>模块化 | JackCin&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/vuepress-theme-vdoing/img/favicon.ico">
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/vuepress-theme-vdoing/assets/css/0.styles.d3d6617d.css" as="style"><link rel="preload" href="/vuepress-theme-vdoing/assets/js/app.ef19247d.js" as="script"><link rel="preload" href="/vuepress-theme-vdoing/assets/js/2.59d30681.js" as="script"><link rel="preload" href="/vuepress-theme-vdoing/assets/js/50.0f9664f8.js" as="script"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/10.895e47cd.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/100.65264761.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/101.4227158e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/102.f7fe8fb6.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/103.e938df0b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/104.813d1e73.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/105.9cadadc4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/106.7c77f682.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/107.82ef198e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/108.239ee938.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/109.f41dec57.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/11.afdc1626.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/110.718841c6.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/111.af0c9f6c.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/112.ded809e7.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/113.4b0e2248.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/114.5f1e0cca.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/115.d3bfb97a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/116.bea7171d.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/117.58e52c58.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/118.9f68c88a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/119.68f51359.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/12.d5fdc288.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/120.73fe5367.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/121.51d7018c.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/122.cf65245e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/123.f0409c02.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/13.88195303.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/14.5efb7e20.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/15.5d17711a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/16.d4ee57a8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/17.6241a69b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/18.5fe1c413.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/19.99d38ce9.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/20.802498de.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/21.d8fe6e3b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/22.e54fc887.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/23.4d468f03.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/24.80e6b4d1.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/25.fd7335b6.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/26.514dcbb3.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/27.4ba9baf9.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/28.fe7b813f.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/29.92843dc7.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/3.b222f77d.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/30.aa8da716.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/31.c330d000.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/32.aa4aeaf8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/33.efc5afb4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/34.f788eebe.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/35.1c9cb0c9.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/36.98662805.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/37.ee2e1ae8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/38.b99e909b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/39.99693b52.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/4.8052d648.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/40.886d8383.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/41.a2baf11f.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/42.88d7c3f4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/43.3426d73a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/44.17e65dff.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/45.9f3a181b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/46.d2bbd4a8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/47.0069af15.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/48.427f0e94.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/49.6e4c55aa.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/5.0a7800d5.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/51.54e3e0f5.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/52.c6861735.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/53.56794768.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/54.5422e26a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/55.34e95002.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/56.09649c5a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/57.79c5317f.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/58.c4607eea.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/59.001ead66.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/6.f4a7523e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/60.f509a114.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/61.a2f3e83c.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/62.0b55350e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/63.e7f1cfd6.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/64.25da2825.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/65.9dcd5846.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/66.b37138f3.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/67.2498daaf.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/68.3211a118.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/69.d1221121.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/7.122cf2b2.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/70.8b7ff9d4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/71.67dae2cc.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/72.d538ddbc.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/73.2e00bd36.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/74.39b37722.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/75.18b59a37.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/76.e08c97ed.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/77.e1e6855a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/78.137352f0.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/79.0c8e9414.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/8.3304a2cd.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/80.d2c142fd.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/81.ce37cce5.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/82.12e52dc4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/83.5ae3c013.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/84.2908f5f9.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/85.89eb409e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/86.6197f3b8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/87.5acaa8b4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/88.cb33954e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/89.bec70e95.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/9.2a799cd7.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/90.4d3dbdf5.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/91.9147f662.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/92.2ec1cc34.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/93.f4079504.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/94.128a7998.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/95.ea8b5589.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/96.2494e777.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/97.deea76f2.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/98.4c611d73.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/99.897092d3.js">
    <link rel="stylesheet" href="/vuepress-theme-vdoing/assets/css/0.styles.d3d6617d.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-theme-vdoing/" class="home-link router-link-active"><img src="/vuepress-theme-vdoing/img/logo.png" alt="JackCin's blog" class="logo"> <span class="site-name can-hide">JackCin's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-theme-vdoing/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/vuepress-theme-vdoing/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>页面</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/html/" class="nav-link">Html</a></li><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/css/" class="nav-link">CSS</a></li></ul></li><li class="dropdown-item"><h4>核心</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/js基础/" class="nav-link">JavaScript基础</a></li><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/js高级/" class="nav-link">JavaScript高级</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/vue/" class="nav-link"> Vue</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><a href="/vuepress-theme-vdoing/up/" class="link-title">进阶</a> <span class="title" style="display:none;">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/jquery/" class="nav-link">jQuery</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/d91b9c/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/fee75e/" class="nav-link">Ajax</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-theme-vdoing/linux/" class="nav-link">Linux</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/vuepress-theme-vdoing/计算机基础/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/操作系统/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/数据结构与算法/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="单片机" class="dropdown-title"><a href="/vuepress-theme-vdoing/单片机/" class="link-title">单片机</a> <span class="title" style="display:none;">单片机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/51单片机/" class="nav-link">51单片机</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/5f6e79/404" class="nav-link">CC2530</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/vuepress-theme-vdoing/pages/beb6c0bd8a66cea6/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/vuepress-theme-vdoing/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/JackCin877/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://jackcin877.github.io/image-hosting/blog/%E5%A4%8F%E7%9B%AE.4npqayre72c0.jpg"> <div class="blogger-info"><h3>JackCin</h3> <span>前端小菜鸡(✪ω✪)</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/vuepress-theme-vdoing/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/vuepress-theme-vdoing/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>页面</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/html/" class="nav-link">Html</a></li><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/css/" class="nav-link">CSS</a></li></ul></li><li class="dropdown-item"><h4>核心</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/js基础/" class="nav-link">JavaScript基础</a></li><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/js高级/" class="nav-link">JavaScript高级</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/vue/" class="nav-link"> Vue</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><a href="/vuepress-theme-vdoing/up/" class="link-title">进阶</a> <span class="title" style="display:none;">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/jquery/" class="nav-link">jQuery</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/d91b9c/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/fee75e/" class="nav-link">Ajax</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-theme-vdoing/linux/" class="nav-link">Linux</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/vuepress-theme-vdoing/计算机基础/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/操作系统/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/数据结构与算法/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="单片机" class="dropdown-title"><a href="/vuepress-theme-vdoing/单片机/" class="link-title">单片机</a> <span class="title" style="display:none;">单片机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/51单片机/" class="nav-link">51单片机</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/5f6e79/404" class="nav-link">CC2530</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/vuepress-theme-vdoing/pages/beb6c0bd8a66cea6/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/vuepress-theme-vdoing/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/JackCin877/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>jQuery</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Node</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-theme-vdoing/pages/d91b9c/" class="sidebar-link">初识 node.js与内置模块</a></li><li><a href="/vuepress-theme-vdoing/pages/5f6e79/" aria-current="page" class="active sidebar-link">模块化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/5f6e79/#一、模块化的基本概念" class="sidebar-link">一、模块化的基本概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_1、-什么是模块化" class="sidebar-link">1、 什么是模块化</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_2、-编程领域的模块化" class="sidebar-link">2、 编程领域的模块化</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_3、模块化的规范" class="sidebar-link">3、模块化的规范</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/5f6e79/#二、node-js-中的模块化" class="sidebar-link">二、Node.js 中的模块化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_1、-node-js-中模块的分类" class="sidebar-link">1、 Node.js 中模块的分类</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_2、加载模块" class="sidebar-link">2、加载模块</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_3、-node-js-中的模块作用域" class="sidebar-link">3、 Node.js 中的模块作用域</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_3-1、什么是模块作用域" class="sidebar-link">3.1、什么是模块作用域</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_3-2、模块作用域的好处" class="sidebar-link">3.2、模块作用域的好处</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_4、-向外共享模块作用域中的成员" class="sidebar-link">4、 向外共享模块作用域中的成员</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_4-1、module-对象" class="sidebar-link">4.1、module 对象</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_4-2、module-exports-对象" class="sidebar-link">4.2、module.exports 对象</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_4-3、-共享成员时的注意点" class="sidebar-link">4.3、 共享成员时的注意点</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_4-4、exports-对象" class="sidebar-link">4.4、exports 对象</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_4-5、exports-和-module-exports-的使用误区" class="sidebar-link">4.5、exports 和 module.exports 的使用误区</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_5、-node-js-中的模块化规范" class="sidebar-link">5、 Node.js 中的模块化规范</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/5f6e79/#三、npm-与包" class="sidebar-link">三、npm 与包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_1、包" class="sidebar-link">1、包</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_1-1-什么是包" class="sidebar-link">1.1 什么是包</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_1-2-包的来源" class="sidebar-link">1.2 包的来源</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_1-3-为什么需要包" class="sidebar-link">1.3 为什么需要包</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_1-4-从哪里下载包" class="sidebar-link">1.4 从哪里下载包</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_1-5-如何下载包" class="sidebar-link">1.5 如何下载包</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_2、npm-初体验" class="sidebar-link">2、npm 初体验</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_2-1-格式化时间的传统做法" class="sidebar-link">2.1 格式化时间的传统做法</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_2-2-格式化时间的高级做法" class="sidebar-link">2.2 格式化时间的高级做法</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_2-3-在项目中安装包的命令" class="sidebar-link">2.3 在项目中安装包的命令</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_2-4-初次装包后多了哪些文件" class="sidebar-link">2.4 初次装包后多了哪些文件</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_2-5-安装指定版本的包" class="sidebar-link">2.5 安装指定版本的包</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_2-6-包的语义化规范" class="sidebar-link">2.6 包的语义化规范</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_3、包管理配置文件" class="sidebar-link">3、包管理配置文件</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_3-1-多人协作问题" class="sidebar-link">3.1 多人协作问题</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_3-2-如何记录项目中安装了哪些包" class="sidebar-link">3.2 如何记录项目中安装了哪些包</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_3-3-快速创建-package-json" class="sidebar-link">3.3 快速创建 package.json</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_3-4-dependencies-节点" class="sidebar-link">3.4 dependencies 节点</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_3-5-一次性安装所有的包" class="sidebar-link">3.5 一次性安装所有的包</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_3-6-卸载包" class="sidebar-link">3.6 卸载包</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_3-7-devdependencies-节点" class="sidebar-link">3.7 devDependencies 节点</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_4、解决下包速度慢的问题" class="sidebar-link">4、解决下包速度慢的问题</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_4-1-为什么下包速度慢" class="sidebar-link">4.1 为什么下包速度慢</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_4-2-淘宝-npm-镜像服务器" class="sidebar-link">4.2 淘宝 NPM 镜像服务器</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_4-3-切换-npm-的下包镜像源" class="sidebar-link">4.3 切换 npm 的下包镜像源</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_4-4-nrm" class="sidebar-link">4.4 nrm</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_5、包的分类" class="sidebar-link">5、包的分类</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_5-1-项目包" class="sidebar-link">5.1 项目包</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_5-2-全局包" class="sidebar-link">5.2 全局包</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_5-3-i5ting-toc" class="sidebar-link">5.3 i5ting_toc</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_6、规范的包结构" class="sidebar-link">6、规范的包结构</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_7、开发属于自己的包" class="sidebar-link">7、开发属于自己的包</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_7-1-需要实现的功能" class="sidebar-link">7.1 需要实现的功能</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_7-2-初始化包的基本结构" class="sidebar-link">7.2 初始化包的基本结构</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_7-3-初始化-package-json" class="sidebar-link">7.3 初始化 package.json</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_7-4-在-index-js-中定义格式化时间的方法" class="sidebar-link">7.4 在 index.js 中定义格式化时间的方法</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_7-5-在-index-js-中定义转义-html-的方法" class="sidebar-link">7.5 在 index.js 中定义转义 HTML 的方法</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_7-6-在-index-js-中定义还原-html-的方法" class="sidebar-link">7.6 在 index.js 中定义还原 HTML 的方法</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_7-7-将不同的功能进行模块化拆分" class="sidebar-link">7.7 将不同的功能进行模块化拆分</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_7-8-编写包的说明文档" class="sidebar-link">7.8 编写包的说明文档</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_8、发布包" class="sidebar-link">8、发布包</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_8-1-注册-npm-账号" class="sidebar-link">8.1 注册 npm 账号</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_8-2-登录-npm-账号" class="sidebar-link">8.2 登录 npm 账号</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_8-3-把包发布到-npm-上" class="sidebar-link">8.3 把包发布到 npm 上</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_8-4-删除已发布的包" class="sidebar-link">8.4 删除已发布的包</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/5f6e79/#四、模块的加载机制" class="sidebar-link">四、模块的加载机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_1-、优先从缓存中加载" class="sidebar-link">1 、优先从缓存中加载</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_2、内置模块的加载机制" class="sidebar-link">2、内置模块的加载机制</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_3、自定义模块的加载机制" class="sidebar-link">3、自定义模块的加载机制</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_4、第三方模块的加载机制" class="sidebar-link">4、第三方模块的加载机制</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/5f6e79/#_5、目录作为模块" class="sidebar-link">5、目录作为模块</a></li></ul></li></ul></li><li><a href="/vuepress-theme-vdoing/pages/c75d45/" class="sidebar-link">Express</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ajax</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/vuepress-theme-vdoing/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/vuepress-theme-vdoing/up/#进阶" data-v-06225672>进阶</a></li><li data-v-06225672><a href="/vuepress-theme-vdoing/up/#Node" data-v-06225672>Node</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/JackCin877" target="_blank" title="作者" class="beLink" data-v-06225672>JackCin</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-11-08</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">模块化<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="一、模块化的基本概念"><a href="#一、模块化的基本概念" class="header-anchor">#</a> 一、模块化的基本概念</h2> <h3 id="_1、-什么是模块化"><a href="#_1、-什么是模块化" class="header-anchor">#</a> 1、 什么是模块化</h3> <p>​	<strong>模块化</strong>是指解决一个<strong>复杂问题</strong>时，自顶向下逐层<strong>把系统划分成若干模块的过程</strong>。对于整个系统来说，<strong>模块是可组合、分解和更换的单元</strong>。</p> <h3 id="_2、-编程领域的模块化"><a href="#_2、-编程领域的模块化" class="header-anchor">#</a> 2、 编程领域的模块化</h3> <p>编程领域中的模块化，就是遵守固定的规则，把一个大文件拆成<strong>独立并互相依赖</strong>的多个小模块。</p> <ul><li>把代码进行模块化拆分的好处：
<ul><li>① 提高了代码的<strong>复用性</strong></li> <li>② 提高了代码的<strong>可维护性</strong></li> <li>③ 可以实现<strong>按需加载</strong></li></ul></li></ul> <h3 id="_3、模块化的规范"><a href="#_3、模块化的规范" class="header-anchor">#</a> 3、模块化的规范</h3> <p><strong>模块化规范</strong>就是对代码进行模块化的拆分与组合时，需要遵守的哪些规则。</p> <ul><li>例如：
<ul><li>使用什么样的语法格式来<strong>引用模块</strong></li> <li>在模块中使用什么样的语法格式<strong>向外暴露成员</strong></li></ul></li></ul> <p><em><strong>模块化规范的好处</strong></em>  ：大家都遵守同样的模块化规范写代码，降低了沟通的成本，极大方便了各个模块之间的相互调用，利人利己。</p> <h2 id="二、node-js-中的模块化"><a href="#二、node-js-中的模块化" class="header-anchor">#</a> 二、Node.js 中的模块化</h2> <h3 id="_1、-node-js-中模块的分类"><a href="#_1、-node-js-中模块的分类" class="header-anchor">#</a> 1、 Node.js 中模块的分类</h3> <p>Node.js 中根据模块来源的不同，将模块分为了 3 大类，分别是：</p> <p>⚫ <strong>内置模块</strong>（内置模块是由 Node.js 官方提供的，例如 fs、path、http 等）</p> <p>⚫ <strong>自定义模块</strong>（用户创建的每个 .js 文件，都是自定义模块）</p> <p>⚫ <strong>第三方模块</strong>（<strong>由第三方开发出来的模块</strong>，并非官方提供的内置模块，也不是用户创建的自定义模块，<strong>使用前需要先下载</strong>）</p> <h3 id="_2、加载模块"><a href="#_2、加载模块" class="header-anchor">#</a> 2、加载模块</h3> <p>使用强大的 <code>require()</code> 方法，可以加载需要的内置模块、用户自定义模块、第三方模块进行使用。例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1、加载内置的 fs 模块（内置模块）</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>

<span class="token comment">//2、加载用户的自定义模块</span>
<span class="token keyword">const</span> custom <span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./custom.js'</span><span class="token punctuation">)</span> 
<span class="token comment">//.js可省略 ，如：</span>
<span class="token keyword">const</span> custom <span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./custom'</span><span class="token punctuation">)</span> 

<span class="token comment">//3、加载第三方模块</span>
<span class="token keyword">const</span> moment <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'moment'</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>注意：使用 <code>require()</code> 方法加载其它模块时，会执行被加载模块中的代码。</p> <h3 id="_3、-node-js-中的模块作用域"><a href="#_3、-node-js-中的模块作用域" class="header-anchor">#</a> 3、 Node.js 中的模块作用域</h3> <h4 id="_3-1、什么是模块作用域"><a href="#_3-1、什么是模块作用域" class="header-anchor">#</a> 3.1、什么是模块作用域</h4> <p>​		和<strong>函数作用域</strong>类似，在自定义模块中定义的<strong>变量、方法</strong>等成员，<strong>只能在当前模块内被访问</strong>，这种<strong>模块级别的访问限制</strong>，叫做<strong>模块作用域</strong>。</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/%E6%A8%A1%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F.2pk86s0k0f40.jpg" alt="模块作用域"></p> <h4 id="_3-2、模块作用域的好处"><a href="#_3-2、模块作用域的好处" class="header-anchor">#</a> 3.2、模块作用域的好处</h4> <p>​		防止了全局变量污染的问题 :</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/%E6%A8%A1%E5%9D%97%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9A%84%E5%A5%BD%E5%A4%84.37uczo46dx00.jpg" alt="模块作用域的好处"></p> <h3 id="_4、-向外共享模块作用域中的成员"><a href="#_4、-向外共享模块作用域中的成员" class="header-anchor">#</a> 4、 向外共享模块作用域中的成员</h3> <h4 id="_4-1、module-对象"><a href="#_4-1、module-对象" class="header-anchor">#</a> 4.1、module 对象</h4> <p>在每个 .js 自定义模块中都有一个 module 对象，它里面<strong>存储了和当前模块有关的信息</strong>，打印如下：</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/module%E5%AF%B9%E8%B1%A1.4xnue6p306c0.jpg" alt="module对象"></p> <h4 id="_4-2、module-exports-对象"><a href="#_4-2、module-exports-对象" class="header-anchor">#</a> 4.2、module.exports 对象</h4> <p>​		在自定义模块中，可以使用 <strong>module.exports</strong> 对象，将模块内的成员共享出去，供外界使用。 外界用 <strong><code>require()</code></strong> 方法导入自定义模块时，得到的就是 module.exports 所指向的对象。</p> <h4 id="_4-3、-共享成员时的注意点"><a href="#_4-3、-共享成员时的注意点" class="header-anchor">#</a> 4.3、 共享成员时的注意点</h4> <p>​		使用 <code>require()</code> 方法导入模块时，导入的结果，<em>永远以 <strong>module.exports</strong> 指向的对象为准</em>。</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/%E5%85%B1%E4%BA%AB%E6%88%90%E5%91%98%E7%9A%84%E6%B3%A8%E6%84%8F%E7%82%B9.5yfw13vyois0.jpg" alt="共享成员的注意点"></p> <h4 id="_4-4、exports-对象"><a href="#_4-4、exports-对象" class="header-anchor">#</a> 4.4、exports 对象</h4> <p>​		由于 module.exports 单词写起来比较复杂，为了简化向外共享成员的代码，Node 提供了 <strong>exports</strong> 对象。<strong>默认情况 下，exports 和 module.exports 指向同一个对象</strong>。最终共享的结果，还是以 module.exports 指向的对象为准。</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/exports-%E5%AF%B9%E8%B1%A1.2ji87ofe7140.jpg" alt="exports-对象"></p> <h4 id="_4-5、exports-和-module-exports-的使用误区"><a href="#_4-5、exports-和-module-exports-的使用误区" class="header-anchor">#</a> 4.5、exports 和 module.exports 的使用误区</h4> <p>​		时刻谨记，require() 模块时，得到的永远是 module.exports 指向的对象：</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/exports-%E5%92%8C-module.4z89iccv0q80.jpg" alt="exports-和-module"></p> <p>注意：为了防止混乱，建议大家<strong>不要在同一个模块中同时使用 exports 和 module.exports</strong> 。</p> <h3 id="_5、-node-js-中的模块化规范"><a href="#_5、-node-js-中的模块化规范" class="header-anchor">#</a> 5、 Node.js 中的模块化规范</h3> <p>Node.js 遵循了 CommonJS 模块化规范，CommonJS 规定了<strong>模块的特性</strong>和<strong>各模块之间如何相互依赖</strong>。</p> <ul><li><p>CommonJS 规定：</p> <ul><li><p>① 每个模块内部，<strong>module 变量</strong>代表当前模块。</p></li> <li><p>② module 变量是一个对象，它的 exports 属性（即 <strong>module.exports</strong>）<strong>是对外的接口</strong>。</p></li> <li><p>③ 加载某个模块，其实是加载该模块的 module.exports 属性。<strong>require() 方法用于加载模块</strong>。</p></li></ul></li></ul> <h2 id="三、npm-与包"><a href="#三、npm-与包" class="header-anchor">#</a> 三、npm 与包</h2> <h3 id="_1、包"><a href="#_1、包" class="header-anchor">#</a> 1、包</h3> <h4 id="_1-1-什么是包"><a href="#_1-1-什么是包" class="header-anchor">#</a> 1.1 什么是包</h4> <p>​		Node.js 中的<strong>第三方模块</strong>又叫做<strong>包</strong>。</p> <p>​		就像电脑和计算机指的是相同的东西，第三方模块和包指的是同一个概念，只不过叫法不同。</p> <h4 id="_1-2-包的来源"><a href="#_1-2-包的来源" class="header-anchor">#</a> 1.2 包的来源</h4> <p>​	不同于 Node.js 中的内置模块与自定义模块，<strong>包是由第三方个人或团队开发出来的</strong>，免费供所有人使用。</p> <p>​	注意：Node.js 中的包都是免费且开源的，不需要付费即可免费下载使用。</p> <h4 id="_1-3-为什么需要包"><a href="#_1-3-为什么需要包" class="header-anchor">#</a> 1.3 为什么需要包</h4> <p>​		由于 Node.js 的内置模块仅提供了一些底层的 API，导致在基于内置模块进行项目开发的时，效率很低。</p> <p>​		<strong>包是基于内置模块封装出来的</strong>，提供了更高级、更方便的 API，极大的提高了开发效率。</p> <p>​		<strong>包</strong>和<strong>内置模块</strong>之间的关系，类似于 <strong>jQuery</strong> 和 <strong>浏览器内置 API</strong> 之间的关系。</p> <h4 id="_1-4-从哪里下载包"><a href="#_1-4-从哪里下载包" class="header-anchor">#</a> 1.4 从哪里下载包</h4> <ul><li>国外有一家 IT 公司，叫做 <strong>npm, Inc.</strong> 这家公司旗下有一个非常著名的网站： <a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，它是<strong>全球最大的包共享平台</strong>，你可以从这个网站上搜索到任何你需要的包，只要你有足够的耐心！</li> <li>到目前位置，全球约 1100 多万的开发人员，通过这个包共享平台，开发并共享了超过 120 多万个包供我们使用。</li> <li><strong>npm, Inc. 公司</strong>提供了一个地址为 <a href="https://registry.npmjs.org/" target="_blank" rel="noopener noreferrer">https://registry.npmjs.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的服务器，来对外共享所有的包，我们可以从这个服务器上下载自己所需要的包。</li> <li>注意：
<ul><li>从 <a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 网站上搜索自己所需要的包</li> <li>从 <a href="https://registry.npmjs.org/" target="_blank" rel="noopener noreferrer">https://registry.npmjs.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 服务器上下载自己需要的包</li></ul></li></ul> <h4 id="_1-5-如何下载包"><a href="#_1-5-如何下载包" class="header-anchor">#</a> 1.5 如何下载包</h4> <p>​		<strong>npm, Inc. 公司</strong>提供了一个包管理工具，我们可以使用这个包管理工具，从 <a href="https://registry.npmjs.org/" target="_blank" rel="noopener noreferrer">https://registry.npmjs.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 服务器把需要 的包下载到本地使用。</p> <p>​		这个包管理工具的名字叫做 <strong>Node Package Manager</strong>（简称 <strong>npm 包管理工具</strong>），这个包管理工具随着 Node.js 的安装包一起被安装到了用户的电脑上。</p> <p>​		大家可以在终端中执行 <strong>npm -v</strong> 命令，来查看自己电脑上所安装的 npm 包管理工具的版本号：</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/%E6%9F%A5%E7%9C%8Bnpm%E7%89%88%E6%9C%AC%E5%8F%B7.791lo2xvg7k.jpg" alt="查看npm版本号"></p> <h3 id="_2、npm-初体验"><a href="#_2、npm-初体验" class="header-anchor">#</a> 2、npm 初体验</h3> <h4 id="_2-1-格式化时间的传统做法"><a href="#_2-1-格式化时间的传统做法" class="header-anchor">#</a> 2.1 格式化时间的传统做法</h4> <ul><li>① 创建格式化时间的自定义模块</li> <li>② 定义格式化时间的方法</li> <li>③ 创建补零函数</li> <li>④ 从自定义模块中导出格式化时间的函数</li> <li>⑤ <strong>导入格式化时间的自定义模块</strong></li> <li>⑥ <strong>调用格式化时间的函数</strong></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Node/%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%97%B6%E9%97%B4%E4%BC%A0%E7%BB%9F%E5%81%9A%E6%B3%95.1a2u7zrrdu3k.jpg" alt="格式化时间传统做法"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1 创建格式化时间的函数</span>
<span class="token keyword">function</span> <span class="token function">dataFormat</span><span class="token punctuation">(</span><span class="token parameter">dtStr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> dt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>dtStr<span class="token punctuation">)</span>

    <span class="token keyword">const</span> y <span class="token operator">=</span> dt<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> hh <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> mm <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> ss <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>m<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hh<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mm<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ss<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>

<span class="token punctuation">}</span>
<span class="token comment">//创建补零函数</span>
<span class="token keyword">function</span> <span class="token function">padZero</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> n <span class="token operator">&gt;</span> <span class="token number">9</span> <span class="token operator">?</span> n <span class="token operator">:</span> <span class="token string">'0'</span> <span class="token operator">+</span> n
<span class="token punctuation">}</span>
<span class="token comment">//导出将时间格式化的函数</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    dataFormat
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="_2-2-格式化时间的高级做法"><a href="#_2-2-格式化时间的高级做法" class="header-anchor">#</a> 2.2 格式化时间的高级做法</h4> <ul><li>① <strong>使用 npm 包管理工具，在项目中安装格式化时间的包 moment</strong></li> <li>② 使用 <code>require()</code> 导入格式化时间的包</li> <li>③ 参考 moment 的官方 API 文档对时间进行格式化</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1. 导入需要的包</span>
<span class="token comment">// 注意：导入的名称，就是装包时候的名称</span>
<span class="token keyword">const</span> moment <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'moment'</span><span class="token punctuation">)</span>

<span class="token comment">//2. 参考 moment 的官方 API 文档对时间进行格式化</span>
<span class="token comment">//2.1 调用 moment() 方法，得到当前的时间</span>
<span class="token comment">//2.2 针对当前的时间，调用 format() 方法，按照指定格式进行时间的格式化</span>
<span class="token keyword">const</span> dt <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dt<span class="token punctuation">)</span>  <span class="token comment">//2022-05-23 20:24:19</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_2-3-在项目中安装包的命令"><a href="#_2-3-在项目中安装包的命令" class="header-anchor">#</a> 2.3 在项目中安装包的命令</h4> <p>如果想在项目中安装指定名称的包，需要运行如下的命令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> 包的完整名称
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>​</p> <p>上述的装包命令，可以简写成如下格式：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> i 完整的包名称
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-4-初次装包后多了哪些文件"><a href="#_2-4-初次装包后多了哪些文件" class="header-anchor">#</a> 2.4 初次装包后多了哪些文件</h4> <p>​		初次装包完成后，在项目文件夹下多一个叫做 <strong>node_modules</strong> 的文件夹和 <strong>package-lock.json</strong> 的配置文件。</p> <ul><li>其中：
<ul><li><strong>node_modules 文件夹</strong>用来<strong>存放所有已安装到项目中的包</strong>。require() 导入第三方包时，就是从这个目录中查找并加载包。</li> <li><strong>package-lock.json 配置文件</strong>用来<strong>记录 node_modules 目录下的每一个包的下载信息</strong>，例如包的名字、版本号、下载地址等。</li></ul></li></ul> <p>​		注意：程序员不要手动修改 node_modules 或 package-lock.json 文件中的任何代码，npm 包管理工具会自动维护它们。</p> <h4 id="_2-5-安装指定版本的包"><a href="#_2-5-安装指定版本的包" class="header-anchor">#</a> 2.5 安装指定版本的包</h4> <p>​		默认情况下，使用 npm install 命令安装包的时候，<strong>会自动安装最新版本的包</strong>。如果需要安装指定版本的包，可以在包 名之后，通过 <strong>@ 符号</strong>指定具体的版本，例如：</p> <p>​</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> i moment@2.22.2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_2-6-包的语义化规范"><a href="#_2-6-包的语义化规范" class="header-anchor">#</a> 2.6 包的语义化规范</h4> <p>​		包的版本号是以“点分十进制”形式进行定义的，总共有三位数字，例如 <strong>2.24.0</strong></p> <p>​		其中每一位数字所代表的的含义如下：</p> <p>​				第1位数字：<strong>大版本</strong></p> <p>​				第2位数字：<strong>功能版本</strong></p> <p>​				第3位数字：<strong>Bug修复版本</strong></p> <p>​		版本号提升的规则：只要前面的版本号增长了，则后面的版本号<strong>归零</strong>。</p> <h3 id="_3、包管理配置文件"><a href="#_3、包管理配置文件" class="header-anchor">#</a> 3、包管理配置文件</h3> <p>​		npm 规定，在<strong>项目根目录</strong>中，必须提供一个叫做 <strong>package.json</strong> 的包管理配置文件。用来记录与项目有关的一些配置 信息。例如：</p> <p>​		⚫ 项目的名称、版本号、描述等</p> <p>​		⚫ 项目中都用到了哪些包</p> <p>​		⚫ 哪些包只在<strong>开发期间</strong>会用到</p> <p>​		⚫ 那些包在<strong>开发</strong>和<strong>部署</strong>时都需要用到</p> <h4 id="_3-1-多人协作问题"><a href="#_3-1-多人协作问题" class="header-anchor">#</a> 3.1 多人协作问题</h4> <p>​		整个项目的体积是 30.4M</p> <p>​		第三方包的体积是 28.8M</p> <p>​		项目源代码的体积 1.6M</p> <p>遇到的问题：<strong>第三方包的体积过大</strong>，不 方便团队成员之间共享项目源代码。</p> <p>解决方案：共享时剔除<strong>node_modules</strong></p> <h4 id="_3-2-如何记录项目中安装了哪些包"><a href="#_3-2-如何记录项目中安装了哪些包" class="header-anchor">#</a> 3.2 如何记录项目中安装了哪些包</h4> <p>​		在<strong>项目根目录</strong>中，创建一个叫做 <strong>package.json</strong> 的配置文件，即可用来记录项目中安装了哪些包。从而方便剔除 node_modules 目录之后，在团队成员之间共享项目的源代码。</p> <p>注意：今后在项目开发中，一定要把 node_modules 文件夹，添加到 .gitignore 忽略文件中。</p> <h4 id="_3-3-快速创建-package-json"><a href="#_3-3-快速创建-package-json" class="header-anchor">#</a> 3.3 快速创建 package.json</h4> <p>​		npm 包管理工具提供了一个<strong>快捷命令</strong>，可以<strong>在执行命令时所处的目录中</strong>，快速创建 package.json 这个包管理配置文件：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//作用：在执行命令所处的目录中，快速新建 package.json 文件</span>
npm init <span class="token operator">-</span>y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>注意：</p> <ul><li>① 上述命令<strong>只能在英文的目录下成功运行</strong>！所以，项目文件夹的名称一定要使用英文命名，<strong>不要使用中文，不能出现空格</strong>。</li> <li>② 运行 npm install 命令安装包的时候，npm 包管理工具会自动把<strong>包的名称</strong>和<strong>版本</strong>号，记录到 package.json 中。</li></ul> <h4 id="_3-4-dependencies-节点"><a href="#_3-4-dependencies-节点" class="header-anchor">#</a> 3.4 dependencies 节点</h4> <p>​		package.json 文件中，有一个 <strong>dependencies 节点</strong>，专门用来记录您使用 <strong>npm install</strong>  命令安装了哪些包。</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/dependencies-%E8%8A%82%E7%82%B9.jkq1eb7q8wo.jpg" alt="dependencies-节点"></p> <h4 id="_3-5-一次性安装所有的包"><a href="#_3-5-一次性安装所有的包" class="header-anchor">#</a> 3.5 一次性安装所有的包</h4> <ul><li><p>当我们拿到一个<strong>剔除了 node_modules</strong> 的项目之后，需要先把所有的包下载到项目中，才能将项目运行起来。 否则会报类似于下面的错误：</p> <ul><li><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 由于项目运行依赖与 moment 这个包，如果没有提前安装好这个包，就会报如下错误:</span>
<span class="token literal-property property">Error</span><span class="token operator">:</span> Cannot find module <span class="token string">'moment'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p>可以运行 <strong>npm install</strong> 命令（或 <strong>npm i</strong>）一次性安装所有的依赖包：</p> <ul><li><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1. 执行 npm install 命令时，npm 包管理工具会先读取 package.json 中的 dependencies节点</span>

<span class="token comment">//2. 读取到记录的所有依赖包名称和版本号之后，npm 包管理工具会把这些包一次性下载到项目中</span>
		npm install
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul></li></ul> <h4 id="_3-6-卸载包"><a href="#_3-6-卸载包" class="header-anchor">#</a> 3.6 卸载包</h4> <p>​		可以运行 npm uninstall 命令，来卸载指定的包：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 使用npm uninstall 具体的包名 来卸载包</span>
npm uninstall moment
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>注意：npm uninstall 命令执行成功后，会把卸载的包，自动从 package.json 的 <strong>dependencies</strong> 中移除掉。</p> <h4 id="_3-7-devdependencies-节点"><a href="#_3-7-devdependencies-节点" class="header-anchor">#</a> 3.7 devDependencies 节点</h4> <p>​		如果某些包<strong>只在项目开发阶段</strong>会用到，在<strong>项目上线之后不会用到</strong>，则建议把这些包记录到 devDependencies 节点中。</p> <p>​		与之对应的，如果某些包在<strong>开发</strong>和<strong>项目上线之后</strong>都需要用到，则建议把这些包记录到 dependencies 节点中。</p> <p>​	可以使用如下的命令，将包记录到 devDependencies 节点中：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//安装指定的包，并记录到 devDependencies 节点中</span>
npm i 包名 <span class="token operator">-</span><span class="token constant">D</span>

<span class="token comment">// 注意：上述命令是简写形式，等价与下面完整的写法：</span>
npm install 包名 <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_4、解决下包速度慢的问题"><a href="#_4、解决下包速度慢的问题" class="header-anchor">#</a> 4、解决下包速度慢的问题</h3> <h4 id="_4-1-为什么下包速度慢"><a href="#_4-1-为什么下包速度慢" class="header-anchor">#</a> 4.1 为什么下包速度慢</h4> <p>​		在使用 npm 下包的时候，默认从国外的 <a href="https://registry.npmjs.org/" target="_blank" rel="noopener noreferrer">https://registry.npmjs.org/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 服务器进行下载，此时，网络数据的传输需要经过漫长的海底光缆，因此下包速度会很慢。</p> <p>扩展阅读 - 海底光缆：</p> <ul><li><a href="https://baike.baidu.com/item/%E6%B5%B7%E5%BA%95%E5%85%89%E7%BC%86/4107830" target="_blank" rel="noopener noreferrer">https://baike.baidu.com/item/%E6%B5%B7%E5%BA%95%E5%85%89%E7%BC%86/4107830 <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://baike.baidu.com/item/%E4%B8%AD%E7%BE%8E%E6%B5%B7%E5%BA%95%E5%85%89%E7%BC%86/10520363" target="_blank" rel="noopener noreferrer">https://baike.baidu.com/item/%E4%B8%AD%E7%BE%8E%E6%B5%B7%E5%BA%95%E5%85%89%E7%BC%86/10520363<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://baike.baidu.com/item/APG/23647721?fr=aladdin" target="_blank" rel="noopener noreferrer">https://baike.baidu.com/item/APG/23647721?fr=aladdin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h4 id="_4-2-淘宝-npm-镜像服务器"><a href="#_4-2-淘宝-npm-镜像服务器" class="header-anchor">#</a> 4.2 淘宝 NPM 镜像服务器</h4> <p><img src="https://jackcin877.github.io/image-hosting/Node/%E6%B7%98%E5%AE%9D-NPM-%E9%95%9C%E5%83%8F%E6%9C%8D%E5%8A%A1%E5%99%A8.71cmzpobijs0.jpg" alt="淘宝-NPM-镜像服务器"></p> <ul><li>淘宝在国内搭建了一个服务器，专门把国外官方服务器上 的包<strong>同步</strong>到国内的服务器，然后在国内提供下包的服务。 从而极大的提高了下包的速度。</li> <li>扩展： <strong>镜像</strong>（Mirroring）是一种文件存储形式，一个磁盘上的数据在另一个磁盘上存在一个完全相同的副本即为镜像。</li></ul> <h4 id="_4-3-切换-npm-的下包镜像源"><a href="#_4-3-切换-npm-的下包镜像源" class="header-anchor">#</a> 4.3 切换 npm 的下包镜像源</h4> <p>​		下包的镜像源，指的就是<strong>下包的服务器地址</strong>。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 查看当前的下包镜像源</span>
npm config <span class="token keyword">get</span> registry
<span class="token comment">// 将下包的镜像源切换为淘宝镜像源</span>
npm config <span class="token keyword">set</span> registry<span class="token operator">=</span>http<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">registry.npm.taobao.org</span><span class="token regex-delimiter">/</span></span>
<span class="token comment">// 检查镜像源是否下载成功</span>
npm config <span class="token keyword">get</span> registry
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_4-4-nrm"><a href="#_4-4-nrm" class="header-anchor">#</a> 4.4 nrm</h4> <p>​		为了更方便的切换下包的镜像源，我们可以安装 <strong>nrm</strong> 这个小工具，利用 nrm 提供的终端命令，可以快速查看和切换下包的镜像源。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 通过 npm 包管理器，将 nrm 安装为全局可用的工具</span>
npm i nrm <span class="token operator">-</span>g
<span class="token comment">// 查看所有可用的镜像源</span>
nrm ls
<span class="token comment">// 将下包的镜像源切换为 taobao 镜像</span>
nrm use taobao
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_5、包的分类"><a href="#_5、包的分类" class="header-anchor">#</a> 5、包的分类</h3> <p>使用 npm 包管理工具下载的包，共分为两大类，分别是：</p> <ul><li>⚫ 项目包</li> <li>⚫ 全局包</li></ul> <h4 id="_5-1-项目包"><a href="#_5-1-项目包" class="header-anchor">#</a> 5.1 项目包</h4> <p>那些被安装到项目的 node_modules 目录中的包，都是项目包。</p> <ul><li>项目包又分为两类，分别是：
<ul><li><strong>开发依赖包</strong>（被记录到 <strong>devDependencies</strong> 节点中的包，只在开发期间会用到）</li> <li><strong>核心依赖包</strong>（被记录到 <strong>dependencies</strong> 节点中的包，在开发期间和项目上线之后都会用到）</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 开发依赖包（被记录到 devDependencies 节点中的包，只在开发期间会用到） </span>
npm i 包名 <span class="token operator">-</span><span class="token constant">D</span> 
<span class="token comment">// 核心依赖包（被记录到 dependencies 节点中的包，在开发期间和项目上线之后都会用到）</span>
npm i 包名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_5-2-全局包"><a href="#_5-2-全局包" class="header-anchor">#</a> 5.2 全局包</h4> <p>在执行 npm install 命令时，如果提供了 -g 参数，则会把包安装为全局包。</p> <p>全局包会被安装到 <strong>C:\Users\用户目录\AppData\Roaming\npm\node_modules</strong> 目录下。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//全局安装指定的包</span>
npm i 包名 <span class="token operator">-</span>g
<span class="token comment">//卸载全局安装的包</span>
npm uninstall 包名 <span class="token operator">-</span>g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>注意：</p> <ul><li>① 只有<strong>工具性质的包</strong>，才有全局安装的必要性。因为它们提供了好用的终端命令。</li> <li>② 判断某个包是否需要全局安装后才能使用，可以<strong>参考官方提供的使用说明</strong>即可。</li></ul> <h4 id="_5-3-i5ting-toc"><a href="#_5-3-i5ting-toc" class="header-anchor">#</a> 5.3 i5ting_toc</h4> <p>i5ting_toc 是一个可以把 md 文档转为 html 页面的小工具，使用步骤如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//将 i5ting_toc 安装为全局包</span>
npm install <span class="token operator">-</span>g i5ting_toc
<span class="token comment">//调用i5ting_toc，实现 md 转 html 的功能</span>
i5ting_toc <span class="token operator">-</span>f 要转换的md文件路径 <span class="token operator">-</span>o
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_6、规范的包结构"><a href="#_6、规范的包结构" class="header-anchor">#</a> 6、规范的包结构</h3> <p>在清楚了包的概念、以及如何下载和使用包之后，接下来，我们深入了解一下<strong>包的内部结构</strong>。</p> <ul><li>一个规范的包，它的组成结构，必须符合以下 3 点要求：
<ul><li>① 包必须以<strong>单独的目录</strong>而存在</li> <li>② 包的顶级目录下要必须包含 <strong>package.json</strong> 这个包管理配置文件</li> <li>③ package.json 中必须包含 <strong>name</strong>，<strong>version</strong>，<strong>main</strong> 这三个属性，分别代表<strong>包的名字</strong>、<strong>版本号</strong>、<strong>包的入口</strong>。</li></ul></li></ul> <p>​		注意：以上 3 点要求是一个规范的包结构必须遵守的格式，关于更多的约束，可以参考如下网址： <a href="https://yarnpkg.com/zh-Hans/docs/package-json" target="_blank" rel="noopener noreferrer">https://yarnpkg.com/zh-Hans/docs/package-json<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_7、开发属于自己的包"><a href="#_7、开发属于自己的包" class="header-anchor">#</a> 7、开发属于自己的包</h3> <h4 id="_7-1-需要实现的功能"><a href="#_7-1-需要实现的功能" class="header-anchor">#</a> 7.1 需要实现的功能</h4> <p>​		① 格式化日期</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/%E9%9C%80%E8%A6%81%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8A%9F%E8%83%BD1.6domo0g6kq40.jpg" alt="需要实现的功能1"></p> <p>​		② 转义 HTML 中的特殊字符</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/%E9%9C%80%E8%A6%81%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8A%9F%E8%83%BD2.18m9clmziv4w.jpg" alt="需要实现的功能2"></p> <p>​	③ 还原 HTML 中的特殊字符</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/%E9%9C%80%E8%A6%81%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8A%9F%E8%83%BD3.4j6vd494u1o0.jpg" alt="需要实现的功能3"></p> <h4 id="_7-2-初始化包的基本结构"><a href="#_7-2-初始化包的基本结构" class="header-anchor">#</a> 7.2 初始化包的基本结构</h4> <ul><li>① 新建 itheima-tools 文件夹，作为<strong>包的根目录</strong></li> <li>② 在 itheima-tools 文件夹中，新建如下三个文件：
<ul><li>⚫ package.json （包管理配置文件）</li> <li>⚫ index.js （包的入口文件）</li> <li>⚫ README.md （包的说明文档）</li></ul></li></ul> <h4 id="_7-3-初始化-package-json"><a href="#_7-3-初始化-package-json" class="header-anchor">#</a> 7.3 初始化 package.json</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;itheima-tools&quot;</span><span class="token punctuation">,</span>  
  <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.1.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;提供了格式化时间、HTMLEscape相关的功能&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;itheima&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;dateFormat&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;escape&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>关于更多 license 许可协议相关的内容，可参考 <a href="https://www.jianshu.com/p/86251523e898" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/86251523e898<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_7-4-在-index-js-中定义格式化时间的方法"><a href="#_7-4-在-index-js-中定义格式化时间的方法" class="header-anchor">#</a> 7.4 在 index.js 中定义格式化时间的方法</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 定义格式化时间的函数</span>
<span class="token keyword">function</span> <span class="token function">dateFormat</span><span class="token punctuation">(</span><span class="token parameter">dateStr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> dt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>dateStr<span class="token punctuation">)</span>

  <span class="token keyword">const</span> y <span class="token operator">=</span> dt<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> hh <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> mm <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> ss <span class="token operator">=</span> <span class="token function">padZero</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>m<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hh<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>mm<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ss<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>

<span class="token comment">// 定义一个补零的函数</span>
<span class="token keyword">function</span> <span class="token function">padZero</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> n <span class="token operator">&gt;</span> <span class="token number">9</span> <span class="token operator">?</span> n <span class="token operator">:</span> <span class="token string">'0'</span> <span class="token operator">+</span> n
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  dateFormat
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="_7-5-在-index-js-中定义转义-html-的方法"><a href="#_7-5-在-index-js-中定义转义-html-的方法" class="header-anchor">#</a> 7.5 在 index.js 中定义转义 HTML 的方法</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 定义转义 HTML 字符的函数</span>
<span class="token keyword">function</span> <span class="token function">htmlEscape</span><span class="token punctuation">(</span><span class="token parameter">htmlstr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> htmlstr<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;|&gt;|&quot;|&amp;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token parameter">match</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>match<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">'&lt;'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'&amp;lt;'</span>
      <span class="token keyword">case</span> <span class="token string">'&gt;'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'&amp;gt;'</span>
      <span class="token keyword">case</span> <span class="token string">'&quot;'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'&amp;quot;'</span>
      <span class="token keyword">case</span> <span class="token string">'&amp;'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'&amp;amp;'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_7-6-在-index-js-中定义还原-html-的方法"><a href="#_7-6-在-index-js-中定义还原-html-的方法" class="header-anchor">#</a> 7.6 在 index.js 中定义还原 HTML 的方法</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 定义还原 HTML 字符串的函数</span>
<span class="token keyword">function</span> <span class="token function">htmlUnEscape</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&amp;lt;|&amp;gt;|&amp;quot;|&amp;amp;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token parameter">match</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>match<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">'&amp;lt;'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'&lt;'</span>
      <span class="token keyword">case</span> <span class="token string">'&amp;gt;'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'&gt;'</span>
      <span class="token keyword">case</span> <span class="token string">'&amp;quot;'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'&quot;'</span>
      <span class="token keyword">case</span> <span class="token string">'&amp;amp;'</span><span class="token operator">:</span>
        <span class="token keyword">return</span> <span class="token string">'&amp;'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_7-7-将不同的功能进行模块化拆分"><a href="#_7-7-将不同的功能进行模块化拆分" class="header-anchor">#</a> 7.7 将不同的功能进行模块化拆分</h4> <p>​		① 将格式化时间的功能，拆分到 src -&gt; <strong>dateFormat.js</strong> 中</p> <p>​		② 将处理 HTML 字符串的功能，拆分到 src -&gt; <strong>htmlEscape.js</strong> 中</p> <p>​		③ 在 index.js 中，导入两个模块，得到需要向外共享的方法</p> <p>​		④ 在 index.js 中，使用 module.exports 把对应的方法共享出去</p> <h4 id="_7-8-编写包的说明文档"><a href="#_7-8-编写包的说明文档" class="header-anchor">#</a> 7.8 编写包的说明文档</h4> <p>​		包根目录中的 <strong>README.md</strong> 文件，是<strong>包的使用说明文档</strong>。通过它，我们可以事先把包的使用说明，以 markdown 的 格式写出来，方便用户参考。</p> <p>​		README 文件中具体写什么内容，没有强制性的要求；只要能够清晰地把包的作用、用法、注意事项等描述清楚即可。</p> <p>​		我们所创建的这个包的 README.md 文档中，会包含以下 6 项内容：</p> <p>​		安装方式、导入方式、格式化时间、转义 HTML 中的特殊字符、还原 HTML 中的特殊字符、开源协议。</p> <h3 id="_8、发布包"><a href="#_8、发布包" class="header-anchor">#</a> 8、发布包</h3> <h4 id="_8-1-注册-npm-账号"><a href="#_8-1-注册-npm-账号" class="header-anchor">#</a> 8.1 注册 npm 账号</h4> <ul><li>① 访问 <a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 网站，点击 <strong>sign up</strong> 按钮，进入注册用户界面</li> <li>② 填写账号相关的信息：Full Name、<strong>Public Email</strong>、<strong>Username</strong>、<strong>Password</strong></li> <li>③ 点击 <strong>Create an Account</strong> 按钮，注册账号</li> <li>④ 登录邮箱，<strong>点击验证链接</strong>，进行账号的验证</li></ul> <h4 id="_8-2-登录-npm-账号"><a href="#_8-2-登录-npm-账号" class="header-anchor">#</a> 8.2 登录 npm 账号</h4> <p>​		npm 账号注册完成后，可以在终端中执行 <strong><code>npm login</code></strong> 命令，依次输入用户名、密码、邮箱后，即可登录成功。</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/%E7%99%BB%E5%BD%95npm-%E8%B4%A6%E5%8F%B7.3psvinp9y1i0.jpg" alt="登录npm-账号"></p> <p>注意：在运行 npm login 命令之前，必须 先把<strong>下包的服务器</strong>地址切换为 <strong>npm 的官方服务器</strong>。否则会导致发布包失败！</p> <h4 id="_8-3-把包发布到-npm-上"><a href="#_8-3-把包发布到-npm-上" class="header-anchor">#</a> 8.3 把包发布到 npm 上</h4> <p>​		将终端切换到包的根目录之后，运行 <strong><code>npm publish</code></strong> 命令，即可将包发布到 npm 上（注意：<strong>包名不能雷同</strong>）</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/%E5%8F%91%E5%B8%83%E5%8C%85.u9wx67ooycw.jpg" alt="发布包"></p> <h4 id="_8-4-删除已发布的包"><a href="#_8-4-删除已发布的包" class="header-anchor">#</a> 8.4 删除已发布的包</h4> <p>运行 <code>npm unpublish 包名 --force</code> 命令，即可从 npm 删除已发布的包。</p> <p><img src="https://jackcin877.github.io/image-hosting/Node/%E5%88%A0%E9%99%A4%E5%8C%85.799aqcbuo1c0.jpg" alt="删除包"></p> <p>注意：</p> <p>​		① npm unpublish 命令只能删除 <strong>72 小时以内</strong>发布的包</p> <p>​		② npm unpublish 删除的包，在 <strong>24 小时内不允许重复发布</strong></p> <p>​		③ 发布包的时候要慎重，尽量<strong>不要往 npm 上发布没有意义的包</strong>！</p> <h2 id="四、模块的加载机制"><a href="#四、模块的加载机制" class="header-anchor">#</a> 四、模块的加载机制</h2> <h3 id="_1-、优先从缓存中加载"><a href="#_1-、优先从缓存中加载" class="header-anchor">#</a> 1 、优先从缓存中加载</h3> <p>​		<strong>模块在第一次加载后会被缓存</strong>。 这也意味着多次调用 <code>require()</code> 不会导致模块的代码被执行多次。 注意：不论是内置模块、用户自定义模块、还是第三方模块，它们都会优先从缓存中加载，从而<strong>提高模块的加载效率</strong>。</p> <h3 id="_2、内置模块的加载机制"><a href="#_2、内置模块的加载机制" class="header-anchor">#</a> 2、内置模块的加载机制</h3> <p>​		内置模块是由 Node.js 官方提供的模块，<strong>内置模块的加载优先级最高</strong>。</p> <p>​		例如，<code>require('fs')</code> 始终返回内置的 fs 模块，即使在 node_modules 目录下有名字相同的包也叫做 fs。</p> <h3 id="_3、自定义模块的加载机制"><a href="#_3、自定义模块的加载机制" class="header-anchor">#</a> 3、自定义模块的加载机制</h3> <p>​		使用 require() 加载自定义模块时，必须指定以 <code>./</code> 或 <code>../</code> 开头的<strong>路径标识符</strong>。在加载自定义模块时，如果没有指定 ./ 或 ../  这样的路径标识符，则 node 会把它当作<strong>内置模块</strong>或<strong>第三方模块</strong>进行加载。</p> <p>​		同时，在使用 require() 导入自定义模块时，如果省略了文件的扩展名，则 Node.js 会按顺序分别尝试加载以下的文件：</p> <ul><li>① 按照<strong>确切的文件名</strong>进行加载</li> <li>② 补全 <strong>.js</strong> 扩展名进行加载</li> <li>③ 补全 <strong>.json</strong> 扩展名进行加载</li> <li>④ 补全 <strong>.node</strong> 扩展名进行加载</li> <li>⑤ 加载失败，终端报错</li></ul> <h3 id="_4、第三方模块的加载机制"><a href="#_4、第三方模块的加载机制" class="header-anchor">#</a> 4、第三方模块的加载机制</h3> <p>​		如果传递给 require() 的模块标识符不是一个内置模块，也没有以 <code>./</code> 或 <code>../</code> 开头，则 Node.js 会从当前模块的父目录开始，尝试从 /node_modules 文件夹中加载第三方模块。</p> <p>​		<strong>如果没有找到对应的第三方模块，则移动到再上一层父目录中，进行加载，直到文件系统的根目录。</strong></p> <p>​		例如，假设在 'C:\Users\itheima\project\foo.js' 文件里调用了 require('tools')，则 Node.js 会按以下顺序查找：</p> <ul><li>① C:\Users\itheima\project\node_modules\tools</li> <li>② C:\Users\itheima\node_modules\tools</li> <li>③ C:\Users\node_modules\tools</li> <li>④ C:\node_modules\tools</li></ul> <h3 id="_5、目录作为模块"><a href="#_5、目录作为模块" class="header-anchor">#</a> 5、目录作为模块</h3> <p>当把目录作为模块标识符，传递给 require() 进行加载的时候，有三种加载方式：</p> <ul><li>① 在被加载的目录下查找一个叫做 package.json 的文件，并寻找 main 属性，作为 require() 加载的入口</li> <li>② 如果目录里没有 package.json 文件，或者 main 入口不存在或无法解析，则 Node.js 将会试图加载目录下的 <strong>index.js 文件</strong>。</li> <li>③ 如果以上两步都失败了，则 Node.js 会在终端打印错误消息，报告模块的缺失：Error: Cannot find module 'xxx'</li></ul></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/JackCin877/vuepress-theme-vdoing/edit/master/docs/02.进阶/25.Node/05.模块化.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/11/08, 10:06:10</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/vuepress-theme-vdoing/pages/d91b9c/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">初识 node.js与内置模块</div></a> <a href="/vuepress-theme-vdoing/pages/c75d45/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Express</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vuepress-theme-vdoing/pages/d91b9c/" class="prev">初识 node.js与内置模块</a></span> <span class="next"><a href="/vuepress-theme-vdoing/pages/c75d45/">Express</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/vuepress-theme-vdoing/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/vuepress-theme-vdoing/pages/188689/"><div>
            51单片机及补充知识
            <!----></div></a> <span class="date">09-13</span></dt></dl><dl><dd>02</dd> <dt><a href="/vuepress-theme-vdoing/pages/b10f7a/"><div>
            独立按键
            <!----></div></a> <span class="date">09-13</span></dt></dl><dl><dd>03</dd> <dt><a href="/vuepress-theme-vdoing/pages/b4d59b/"><div>
            LCD1602液晶显示器
            <!----></div></a> <span class="date">09-13</span></dt></dl> <dl><dd></dd> <dt><a href="/vuepress-theme-vdoing/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:2269233033@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/JackCin877" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2023
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/vuepress-theme-vdoing/assets/js/app.ef19247d.js" defer></script><script src="/vuepress-theme-vdoing/assets/js/2.59d30681.js" defer></script><script src="/vuepress-theme-vdoing/assets/js/50.0f9664f8.js" defer></script>
  </body>
</html>
