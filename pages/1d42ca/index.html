<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ajax 加强 | JackCin&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/vuepress-theme-vdoing/img/favicon.ico">
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/vuepress-theme-vdoing/assets/css/0.styles.d3d6617d.css" as="style"><link rel="preload" href="/vuepress-theme-vdoing/assets/js/app.ef19247d.js" as="script"><link rel="preload" href="/vuepress-theme-vdoing/assets/js/2.59d30681.js" as="script"><link rel="preload" href="/vuepress-theme-vdoing/assets/js/54.5422e26a.js" as="script"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/10.895e47cd.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/100.65264761.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/101.4227158e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/102.f7fe8fb6.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/103.e938df0b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/104.813d1e73.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/105.9cadadc4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/106.7c77f682.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/107.82ef198e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/108.239ee938.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/109.f41dec57.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/11.afdc1626.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/110.718841c6.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/111.af0c9f6c.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/112.ded809e7.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/113.4b0e2248.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/114.5f1e0cca.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/115.d3bfb97a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/116.bea7171d.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/117.58e52c58.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/118.9f68c88a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/119.68f51359.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/12.d5fdc288.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/120.73fe5367.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/121.51d7018c.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/122.cf65245e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/123.f0409c02.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/13.88195303.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/14.5efb7e20.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/15.5d17711a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/16.d4ee57a8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/17.6241a69b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/18.5fe1c413.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/19.99d38ce9.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/20.802498de.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/21.d8fe6e3b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/22.e54fc887.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/23.4d468f03.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/24.80e6b4d1.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/25.fd7335b6.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/26.514dcbb3.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/27.4ba9baf9.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/28.fe7b813f.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/29.92843dc7.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/3.b222f77d.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/30.aa8da716.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/31.c330d000.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/32.aa4aeaf8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/33.efc5afb4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/34.f788eebe.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/35.1c9cb0c9.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/36.98662805.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/37.ee2e1ae8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/38.b99e909b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/39.99693b52.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/4.8052d648.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/40.886d8383.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/41.a2baf11f.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/42.88d7c3f4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/43.3426d73a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/44.17e65dff.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/45.9f3a181b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/46.d2bbd4a8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/47.0069af15.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/48.427f0e94.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/49.6e4c55aa.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/5.0a7800d5.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/50.0f9664f8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/51.54e3e0f5.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/52.c6861735.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/53.56794768.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/55.34e95002.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/56.09649c5a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/57.79c5317f.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/58.c4607eea.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/59.001ead66.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/6.f4a7523e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/60.f509a114.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/61.a2f3e83c.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/62.0b55350e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/63.e7f1cfd6.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/64.25da2825.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/65.9dcd5846.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/66.b37138f3.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/67.2498daaf.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/68.3211a118.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/69.d1221121.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/7.122cf2b2.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/70.8b7ff9d4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/71.67dae2cc.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/72.d538ddbc.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/73.2e00bd36.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/74.39b37722.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/75.18b59a37.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/76.e08c97ed.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/77.e1e6855a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/78.137352f0.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/79.0c8e9414.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/8.3304a2cd.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/80.d2c142fd.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/81.ce37cce5.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/82.12e52dc4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/83.5ae3c013.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/84.2908f5f9.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/85.89eb409e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/86.6197f3b8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/87.5acaa8b4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/88.cb33954e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/89.bec70e95.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/9.2a799cd7.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/90.4d3dbdf5.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/91.9147f662.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/92.2ec1cc34.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/93.f4079504.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/94.128a7998.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/95.ea8b5589.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/96.2494e777.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/97.deea76f2.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/98.4c611d73.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/99.897092d3.js">
    <link rel="stylesheet" href="/vuepress-theme-vdoing/assets/css/0.styles.d3d6617d.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-theme-vdoing/" class="home-link router-link-active"><img src="/vuepress-theme-vdoing/img/logo.png" alt="JackCin's blog" class="logo"> <span class="site-name can-hide">JackCin's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-theme-vdoing/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/vuepress-theme-vdoing/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>页面</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/html/" class="nav-link">Html</a></li><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/css/" class="nav-link">CSS</a></li></ul></li><li class="dropdown-item"><h4>核心</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/js基础/" class="nav-link">JavaScript基础</a></li><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/js高级/" class="nav-link">JavaScript高级</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/vue/" class="nav-link"> Vue</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><a href="/vuepress-theme-vdoing/up/" class="link-title">进阶</a> <span class="title" style="display:none;">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/jquery/" class="nav-link">jQuery</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/d91b9c/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/fee75e/" class="nav-link">Ajax</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-theme-vdoing/linux/" class="nav-link">Linux</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/vuepress-theme-vdoing/计算机基础/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/操作系统/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/数据结构与算法/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="单片机" class="dropdown-title"><a href="/vuepress-theme-vdoing/单片机/" class="link-title">单片机</a> <span class="title" style="display:none;">单片机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/51单片机/" class="nav-link">51单片机</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/1d42ca/404" class="nav-link">CC2530</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/vuepress-theme-vdoing/pages/beb6c0bd8a66cea6/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/vuepress-theme-vdoing/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/JackCin877/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://jackcin877.github.io/image-hosting/blog/%E5%A4%8F%E7%9B%AE.4npqayre72c0.jpg"> <div class="blogger-info"><h3>JackCin</h3> <span>前端小菜鸡(✪ω✪)</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/vuepress-theme-vdoing/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/vuepress-theme-vdoing/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>页面</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/html/" class="nav-link">Html</a></li><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/css/" class="nav-link">CSS</a></li></ul></li><li class="dropdown-item"><h4>核心</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/js基础/" class="nav-link">JavaScript基础</a></li><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/js高级/" class="nav-link">JavaScript高级</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/vue/" class="nav-link"> Vue</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><a href="/vuepress-theme-vdoing/up/" class="link-title">进阶</a> <span class="title" style="display:none;">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/jquery/" class="nav-link">jQuery</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/d91b9c/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/fee75e/" class="nav-link">Ajax</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-theme-vdoing/linux/" class="nav-link">Linux</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/vuepress-theme-vdoing/计算机基础/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/操作系统/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/数据结构与算法/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="单片机" class="dropdown-title"><a href="/vuepress-theme-vdoing/单片机/" class="link-title">单片机</a> <span class="title" style="display:none;">单片机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/51单片机/" class="nav-link">51单片机</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/1d42ca/404" class="nav-link">CC2530</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/vuepress-theme-vdoing/pages/beb6c0bd8a66cea6/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/vuepress-theme-vdoing/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/JackCin877/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>jQuery</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Ajax</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-theme-vdoing/pages/fee75e/" class="sidebar-link">服务器的级别概念与初始Ajax</a></li><li><a href="/vuepress-theme-vdoing/pages/48ccbe/" class="sidebar-link">form 表单与模板引擎</a></li><li><a href="/vuepress-theme-vdoing/pages/1d42ca/" aria-current="page" class="active sidebar-link">Ajax 加强</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/1d42ca/#一、xmlhttprequest的基本使用" class="sidebar-link">一、XMLHttpRequest的基本使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_1-1-什么是-xmlhttprequest" class="sidebar-link">1.1 什么是 XMLHttpRequest</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_1-2-使用-xhr-发起-get-请求" class="sidebar-link">1.2 使用 xhr 发起 GET 请求</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_1-3-了解xhr对象的readystate属性" class="sidebar-link">1.3 了解xhr对象的readyState属性</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_1-4-使用-xhr-发起带参数的-get-请求" class="sidebar-link">1.4 使用 xhr 发起带参数的 GET 请求</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_1-5-查询字符串" class="sidebar-link">1.5 查询字符串</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_1-5-1-什么是查询字符串" class="sidebar-link">1.5.1 什么是查询字符串</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_1-5-2-get-请求携带参数的本质" class="sidebar-link">1.5.2 GET 请求携带参数的本质</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_1-6-url-编码与解码" class="sidebar-link">1.6 URL 编码与解码</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_1-6-1-什么是url编码" class="sidebar-link">1.6.1 什么是URL编码</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_1-6-2-如何对url-进行编码和解码" class="sidebar-link">1.6.2 如何对URL 进行编码和解码</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_1-6-3-url-编码的注意事项" class="sidebar-link">1.6.3 URL 编码的注意事项</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_1-7-使用-xhr-发起-post-请求" class="sidebar-link">1.7 使用 xhr 发起 POST 请求</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/1d42ca/#二、数据交换格式" class="sidebar-link">二、数据交换格式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_2-1-什么是数据交换格式" class="sidebar-link">2.1 什么是数据交换格式</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_2-2-xml" class="sidebar-link">2.2 XML</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_2-2-1-什么是-xml" class="sidebar-link">2.2.1 什么是 XML</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_2-2-2-xml-和-html-的区别" class="sidebar-link">2.2.2 XML 和 HTML 的区别</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_2-2-3-xml-的缺点" class="sidebar-link">2.2.3 XML 的缺点</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_2-3-json" class="sidebar-link">2.3 JSON</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_2-3-1-什么是json" class="sidebar-link">2.3.1 什么是JSON</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_2-3-2-json的两种结构" class="sidebar-link">2.3.2 JSON的两种结构</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_2-3-3-json-语法注意事项" class="sidebar-link">2.3.3 JSON 语法注意事项</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_2-3-4-json-和-js-对象" class="sidebar-link">2.3.4 JSON 和 JS 对象</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_2-3-5-json-和-js-对象的互转" class="sidebar-link">2.3.5 JSON 和 JS 对象的互转</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_2-3-6-序列化和反序列化" class="sidebar-link">2.3.6 序列化和反序列化</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/1d42ca/#三、封装自己得ajax函数" class="sidebar-link">三、封装自己得Ajax函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_3-1-要实现的效果" class="sidebar-link">3.1 要实现的效果</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_3-2-定义-options-参数选项" class="sidebar-link">3.2 定义 options 参数选项</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_3-3-处理-data-参数" class="sidebar-link">3.3 处理 data 参数</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_3-4-定义-itheima-函数" class="sidebar-link">3.4 定义 itheima 函数</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_3-5-判断请求的类型" class="sidebar-link">3.5 判断请求的类型</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/1d42ca/#四、xmlhttprequest-level2-的新特性" class="sidebar-link">四、XMLHttpRequest Level2 的新特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-1-认识xmlhttprequest-level2" class="sidebar-link">4.1 认识XMLHttpRequest Level2</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-1-1-旧版xmlhttprequest-的缺点" class="sidebar-link">4.1.1 旧版XMLHttpRequest 的缺点</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-1-2-xmlhttprequest-level2的新功能" class="sidebar-link">4.1.2 XMLHttpRequest Level2的新功能</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-2-设置http请求时限" class="sidebar-link">4.2 设置HTTP请求时限</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-3-formdata-对象管理表单数据" class="sidebar-link">4.3 FormData 对象管理表单数据</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-4-上传文件" class="sidebar-link">4.4 上传文件</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-4-1-定义ui结构" class="sidebar-link">4.4.1 定义UI结构</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-4-2-验证是否选择了文件" class="sidebar-link">4.4.2 验证是否选择了文件</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-4-3-向-formdata-中追加文件" class="sidebar-link">4.4.3 向 FormData 中追加文件</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-4-4-使用-xhr-发起上传文件的请求" class="sidebar-link">4.4.4 使用 xhr 发起上传文件的请求</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-4-5-监听-onreadystatechange-事件" class="sidebar-link">4.4.5 监听 onreadystatechange 事件</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-5-显示文件上次进度" class="sidebar-link">4.5 显示文件上次进度</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-5-1-导入需要的库" class="sidebar-link">4.5.1 导入需要的库</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-5-2-基于-bootstrap渲染进度条" class="sidebar-link">4.5.2 基于 Bootstrap渲染进度条</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-5-3-监听上传进度的事件" class="sidebar-link">4.5.3 监听上传进度的事件</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_4-5-4-监听上传完成的事件" class="sidebar-link">4.5.4 监听上传完成的事件</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/1d42ca/#五、jquery-高级用法" class="sidebar-link">五、jQuery 高级用法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_5-1-jquery实现文件上传" class="sidebar-link">5.1 jQuery实现文件上传</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_5-1-1-定义ui结构" class="sidebar-link">5.1.1 定义UI结构</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_5-1-2-验证是否选择了文件" class="sidebar-link">5.1.2 验证是否选择了文件</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_5-1-3-向formdata中追加文件" class="sidebar-link">5.1.3 向FormData中追加文件</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_5-1-4-使用jquery发起上传文件的请求" class="sidebar-link">5.1.4 使用jQuery发起上传文件的请求</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_5-2-jquery-实现-loading-效果" class="sidebar-link">5.2 jQuery 实现 loading 效果</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_5-2-1-ajaxstart-callback" class="sidebar-link">5.2.1 ajaxStart(callback)</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_5-2-2-ajaxstop-callback" class="sidebar-link">5.2.2 ajaxStop(callback)</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/1d42ca/#六、axios" class="sidebar-link">六、axios</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_6-1-什么是-axios" class="sidebar-link">6.1 什么是 axios</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_6-2-axios-发起-get-请求" class="sidebar-link">6.2 axios 发起 GET 请求</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_6-3-axios-发起-post-请求" class="sidebar-link">6.3 axios 发起 POST 请求</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_6-4-直接使用-axios-发起请求" class="sidebar-link">6.4 直接使用 axios 发起请求</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_6-4-1-直接使用-axios-发起-get-请求" class="sidebar-link">6.4.1 直接使用 axios 发起 GET 请求</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/1d42ca/#_6-4-2-直接使用-axios-发起-post-请求" class="sidebar-link">6.4.2 直接使用 axios 发起 POST 请求</a></li></ul></li></ul></li><li><a href="/vuepress-theme-vdoing/pages/7f49e9/" class="sidebar-link">跨域与 JSONP</a></li><li><a href="/vuepress-theme-vdoing/pages/25f678/" class="sidebar-link">HTTP 协议加强</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/vuepress-theme-vdoing/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/vuepress-theme-vdoing/up/#进阶" data-v-06225672>进阶</a></li><li data-v-06225672><a href="/vuepress-theme-vdoing/up/#Ajax" data-v-06225672>Ajax</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/JackCin877" target="_blank" title="作者" class="beLink" data-v-06225672>JackCin</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-11-07</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Ajax 加强<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="一、xmlhttprequest的基本使用"><a href="#一、xmlhttprequest的基本使用" class="header-anchor">#</a> 一、XMLHttpRequest的基本使用</h2> <h3 id="_1-1-什么是-xmlhttprequest"><a href="#_1-1-什么是-xmlhttprequest" class="header-anchor">#</a> 1.1 什么是 XMLHttpRequest</h3> <p>​		XMLHttpRequest（简称 xhr）是浏览器提供的 Javascript 对象，通过它，可以<strong>请求服务器上的数据资源</strong>。之前所学的 jQuery 中的 Ajax 函数，就是基于 xhr 对象封装出来的。</p> <p><img src="https://jackcin877.github.io/image-hosting/Ajax/%E4%BB%80%E4%B9%88%E6%98%AFXMLHttpRequest.3x49lo0fh1m0.jpg" alt="什么是XMLHttpRequest"></p> <h3 id="_1-2-使用-xhr-发起-get-请求"><a href="#_1-2-使用-xhr-发起-get-请求" class="header-anchor">#</a> 1.2 使用 xhr 发起 GET 请求</h3> <p>步骤：</p> <p>​		①创建 xhr 对象</p> <p>​		②调用 xhr.open() 函数</p> <p>​		③调用 xhr.send() 函数</p> <p>​		④监听 xhr.onreadystatechange 事件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1. 创建 XHR 对象</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 2. 调用 open 函数，指定 请求方式 与 URL地址</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'http://www.liulongbin.top:3006/api/getbooks'</span><span class="token punctuation">)</span>
<span class="token comment">// 3. 调用 send 函数，发起 Ajax 请求</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 4. 监听 onreadystatechange 事件</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 4.1 监听 xhr 对象的请求状态 readyState ；与服务器响应的状态 status</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token parameter">xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 4.2 打印服务器响应回来的数据</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span>  <span class="token comment">//xhr.responseText是JSON格式</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_1-3-了解xhr对象的readystate属性"><a href="#_1-3-了解xhr对象的readystate属性" class="header-anchor">#</a> 1.3 了解xhr对象的readyState属性</h3> <p>​		XMLHttpRequest 对象的 readyState 属性，用来表示<strong>当前</strong> <strong>Ajax</strong> <strong>请求所处的状态</strong>。每个 Ajax 请求必然处于以下状态中的一个：</p> <table><thead><tr><th>值</th> <th>状态</th> <th>描述</th></tr></thead> <tbody><tr><td>0</td> <td>UNSENT</td> <td>XMLHttpRequest 对象已被创建，但尚未调用 open 方法</td></tr> <tr><td>1</td> <td>OPENED</td> <td>open（）方法已经被调用。</td></tr> <tr><td>2</td> <td>HEADERS_RECEIVED</td> <td>send（）方法已经被调用，响应头也已经被接收。</td></tr> <tr><td>3</td> <td>LOADING</td> <td>数据接收中，此时 response 属性中已经包含部分数据。</td></tr> <tr><td>4</td> <td><strong>DONE</strong></td> <td><strong>Ajax 请求完成</strong>，这意味着数据传输已经彻底<strong>完成</strong>或<strong>失败</strong>。</td></tr></tbody></table> <h3 id="_1-4-使用-xhr-发起带参数的-get-请求"><a href="#_1-4-使用-xhr-发起带参数的-get-请求" class="header-anchor">#</a> 1.4 使用 xhr 发起带参数的 GET 请求</h3> <p>​		使用 xhr 对象发起带参数的 GET 请求时，只需在调用 xhr.open 期间，为 URL 地址指定参数即可：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ...省略不必要的代码</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'http://www.liulongbin.top:3006/api/getbooks?id=1'</span><span class="token punctuation">)</span>
<span class="token comment">// ...省略不必要的代码</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这种在 URL 地址后面拼接的参数，叫做<strong>查询字符串</strong>。</p> <h3 id="_1-5-查询字符串"><a href="#_1-5-查询字符串" class="header-anchor">#</a> 1.5 查询字符串</h3> <h4 id="_1-5-1-什么是查询字符串"><a href="#_1-5-1-什么是查询字符串" class="header-anchor">#</a> 1.5.1 什么是查询字符串</h4> <p>​		定义：查询字符串（URL 参数）是指在 URL 的末尾加上用于向服务器发送信息的字符串（变量）。</p> <p>​		格式：将英文的   <strong>?</strong>   放在URL 的末尾，然后再加上 <strong>参数＝值</strong> ，想加上多个参数的话，使用 <strong>&amp;</strong> 符号进行分隔。以这个形式，可以将想要发送给服务器的数据添加到 URL 中。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 不带参数的 URL 地址</span>
<span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>liulongbin<span class="token punctuation">.</span>top<span class="token operator">:</span><span class="token number">3006</span><span class="token operator">/</span>api<span class="token operator">/</span>getbooks
<span class="token comment">// 带一个参数的 URL 地址</span>
<span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>liulongbin<span class="token punctuation">.</span>top<span class="token operator">:</span><span class="token number">3006</span><span class="token operator">/</span>api<span class="token operator">/</span>getbooks<span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">1</span>
<span class="token comment">// 带两个参数的 URL 地址</span>
<span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>liulongbin<span class="token punctuation">.</span>top<span class="token operator">:</span><span class="token number">3006</span><span class="token operator">/</span>api<span class="token operator">/</span>getbooks<span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>bookname<span class="token operator">=</span>西游记
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_1-5-2-get-请求携带参数的本质"><a href="#_1-5-2-get-请求携带参数的本质" class="header-anchor">#</a> 1.5.2 GET 请求携带参数的本质</h4> <p>​		无论使用 $.ajax()，还是使用 $.get()，又或者直接使用 xhr 对象发起 GET 请求，当需要携带参数的时候，本质上，都是直接将参数以查询字符串的形式，追加到 URL 地址的后面，发送到服务器的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>$<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 等价于</span>
$<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'url?name=zs&amp;age=20'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'url'</span><span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 等价于</span>
$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'url?name=zs&amp;age=20'</span><span class="token punctuation">,</span> <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_1-6-url-编码与解码"><a href="#_1-6-url-编码与解码" class="header-anchor">#</a> 1.6 URL 编码与解码</h3> <h4 id="_1-6-1-什么是url编码"><a href="#_1-6-1-什么是url编码" class="header-anchor">#</a> 1.6.1 什么是URL编码</h4> <ul><li>URL 地址中，只允许出现英文相关的字母、标点符号、数字，因此，在 URL 地址中不允许出现中文字符。</li> <li>如果 URL 中需要包含中文这样的字符，则必须对中文字符进行<strong>编码</strong>（转义）。</li> <li><strong>URL</strong>编码的原则：使用安全的字符（没有特殊用途或者特殊意义的可打印字符）去表示那些不安全的字符。</li> <li>URL编码原则的通俗理解：<strong>使用英文字符</strong>去表示<strong>非英文字符</strong>。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>liulongbin<span class="token punctuation">.</span>top<span class="token operator">:</span><span class="token number">3006</span><span class="token operator">/</span>api<span class="token operator">/</span>getbooks<span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>bookname<span class="token operator">=</span>西游记
<span class="token comment">// 经过 URL 编码之后，URL地址变成了如下格式：</span>
<span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>liulongbin<span class="token punctuation">.</span>top<span class="token operator">:</span><span class="token number">3006</span><span class="token operator">/</span>api<span class="token operator">/</span>getbooks<span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>bookname<span class="token operator">=</span><span class="token operator">%</span><span class="token constant">E8</span><span class="token operator">%</span><span class="token constant">A5</span><span class="token operator">%</span><span class="token constant">BF</span><span class="token operator">%</span><span class="token constant">E6</span><span class="token operator">%</span><span class="token constant">B8</span><span class="token operator">%</span><span class="token constant">B8</span><span class="token operator">%</span><span class="token constant">E8</span><span class="token operator">%</span><span class="token constant">AE</span><span class="token operator">%</span><span class="token constant">B0</span>
<span class="token punctuation">(</span>每<span class="token number">3</span>位对应一个中文字符，如：<span class="token operator">%</span><span class="token constant">E8</span><span class="token operator">%</span><span class="token constant">A5</span><span class="token operator">%</span><span class="token constant">BF</span> 对应  西<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_1-6-2-如何对url-进行编码和解码"><a href="#_1-6-2-如何对url-进行编码和解码" class="header-anchor">#</a> 1.6.2 如何对URL 进行编码和解码</h4> <p>​		浏览器提供了 URL 编码与解码的 API，分别是：</p> <p>​				<code>lencodeURI()</code> 编码的函数</p> <p>​				<code>ldecodeURI()</code> 解码的函数</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">encodeURI</span><span class="token punctuation">(</span><span class="token string">'黑马程序员'</span><span class="token punctuation">)</span>
<span class="token comment">// 输出字符串  %E9%BB%91%E9%A9%AC%E7%A8%8B%E5%BA%8F%E5%91%98</span>
<span class="token function">decodeURI</span><span class="token punctuation">(</span><span class="token string">'%E9%BB%91%E9%A9%AC'</span><span class="token punctuation">)</span>
<span class="token comment">// 输出字符串  黑马</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_1-6-3-url-编码的注意事项"><a href="#_1-6-3-url-编码的注意事项" class="header-anchor">#</a> 1.6.3 URL 编码的注意事项</h4> <p>​		由于浏览器会自动对 URL 地址进行编码操作，因此，大多数情况下，程序员不需要关心 URL 地址的编码与解码操作。</p> <p>​		更多关于 URL 编码的知识，请参考如下博客：</p> <p>​		<a href="https://blog.csdn.net/Lxd_0111/article/details/78028889" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/Lxd_0111/article/details/78028889<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_1-7-使用-xhr-发起-post-请求"><a href="#_1-7-使用-xhr-发起-post-请求" class="header-anchor">#</a> 1.7 使用 xhr 发起 POST 请求</h3> <p>步骤：</p> <p>​		①创建 xhr 对象</p> <p>​		②调用 xhr.open() 函数</p> <p>​		③<strong>设置</strong> <strong>Content-Type</strong> <strong>属性</strong>（固定写法）</p> <p>​		④调用 xhr.send() 函数，<strong>同时指定要发送的数据</strong></p> <p>​		⑤监听 xhr.onreadystatechange 事件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1. 创建 xhr 对象</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 2. 调用 open()</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token string">'http://www.liulongbin.top:3006/api/addbook'</span><span class="token punctuation">)</span>
<span class="token comment">// 3. 设置 Content-Type 属性（固定写法）</span>
xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'application/x-www-form-urlencoded'</span><span class="token punctuation">)</span>
<span class="token comment">// 4. 调用 send()，同时将数据以查询字符串的形式，提交给服务器</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'bookname=水浒传&amp;author=施耐庵&amp;publisher=天津图书出版社'</span><span class="token punctuation">)</span>
<span class="token comment">// 5. 监听 onreadystatechange 事件</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token parameter">xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="二、数据交换格式"><a href="#二、数据交换格式" class="header-anchor">#</a> 二、数据交换格式</h2> <h3 id="_2-1-什么是数据交换格式"><a href="#_2-1-什么是数据交换格式" class="header-anchor">#</a> 2.1 什么是数据交换格式</h3> <p>​		数据交换格式，就是<strong>服务器端</strong>与<strong>客户端</strong>之间进行<strong>数据传输与交换的格式</strong>。</p> <p>​		前端领域，经常提及的两种数据交换格式分别是 <strong>XML</strong> 和 <strong>JSON</strong>。其中 XML 用的非常少，所以，我们重点要学习的数据交换格式就是 JSON。</p> <p><img src="https://jackcin877.github.io/image-hosting/Ajax/%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E6%A0%BC%E5%BC%8F.42g2oogwziq0.jpg" alt="数据交换格式"></p> <h3 id="_2-2-xml"><a href="#_2-2-xml" class="header-anchor">#</a> 2.2 XML</h3> <h4 id="_2-2-1-什么是-xml"><a href="#_2-2-1-什么是-xml" class="header-anchor">#</a> 2.2.1 什么是 XML</h4> <p>​		XML 的英文全称是 E<strong>X</strong>tensible <strong>M</strong>arkup <strong>L</strong>anguage，即<strong>可扩展标记语言</strong>。因此，XML 和 HTML 类似，也是一种标记语言。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>					<span class="token operator">|</span>	<span class="token operator">&lt;</span>note<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>							<span class="token operator">|</span>		<span class="token operator">&lt;</span>to<span class="token operator">&gt;</span>ls<span class="token operator">&lt;</span><span class="token operator">/</span>to<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>						<span class="token operator">|</span>		<span class="token operator">&lt;</span>from<span class="token operator">&gt;</span>zs<span class="token operator">&lt;</span><span class="token operator">/</span>from<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Document<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>		<span class="token operator">|</span>		<span class="token operator">&lt;</span>heading<span class="token operator">&gt;</span>通知<span class="token operator">&lt;</span><span class="token operator">/</span>heading<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>						<span class="token operator">|</span>		<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>晚上开会<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>					<span class="token operator">|</span>	<span class="token operator">&lt;</span><span class="token operator">/</span>note<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>							<span class="token operator">|</span>
								<span class="token operator">|</span>
      	<span class="token constant">HTML</span>					<span class="token operator">|</span>           	<span class="token constant">XML</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_2-2-2-xml-和-html-的区别"><a href="#_2-2-2-xml-和-html-的区别" class="header-anchor">#</a> 2.2.2 XML 和 HTML 的区别</h4> <p>XML 和 HTML 虽然都是标记语言，但是，它们两者之间没有任何的关系。</p> <ul><li><p>HTML 被设计用来描述网页上的<strong>内容</strong>，是网页内容的载体</p></li> <li><p>XML 被设计用来<strong>传输和存储数据</strong>，是数据的载体</p></li></ul> <p><img src="XML%E5%92%8CHTML%E7%9A%84%E5%8C%BA%E5%88%AB.png" alt=""></p> <h4 id="_2-2-3-xml-的缺点"><a href="#_2-2-3-xml-的缺点" class="header-anchor">#</a> 2.2.3 XML 的缺点</h4> <p>​	①XML 格式臃肿，和数据无关的代码多，体积大，传输效率低</p> <p>​	②在 Javascript 中解析 XML 比较麻烦</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>note</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>to</span><span class="token punctuation">&gt;</span></span>ls<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>to</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>from</span><span class="token punctuation">&gt;</span></span>zs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>from</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>heading</span><span class="token punctuation">&gt;</span></span>通知<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>heading</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>晚上开会<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>note</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-3-json"><a href="#_2-3-json" class="header-anchor">#</a> 2.3 JSON</h3> <h4 id="_2-3-1-什么是json"><a href="#_2-3-1-什么是json" class="header-anchor">#</a> 2.3.1 什么是JSON</h4> <p>​		概念：JSON 的英文全称是 JavaScript Object Notation，即“JavaScript 对象表示法”。简单来讲，<strong>JSON 就是 Javascript 对象和数组的字符串表示法</strong>，它使用文本表示一个 JS 对象或数组的信息，因此，<strong>JSON</strong> <strong>的本质是字符串</strong>。</p> <p>​		作用：JSON 是一种<strong>轻量级的文本数据交换格式</strong>，在作用上类似于 XML，专门用于存储和传输数据，但是 JSON 比 XML 更小、更快、更易解析。</p> <p>​		现状：JSON 是在 2001 年开始被推广和使用的数据格式，到现今为止，JSON 已经成为了主流的数据交换格式。</p> <h4 id="_2-3-2-json的两种结构"><a href="#_2-3-2-json的两种结构" class="header-anchor">#</a> 2.3.2 JSON的两种结构</h4> <p>​		JSON 就是用字符串来表示 Javascript 的对象和数组。所以，JSON 中包含<strong>对象</strong>和<strong>数组</strong>两种结构，通过这两种结构的<strong>相互嵌套</strong>，可以表示各种复杂的数据结构。</p> <p>​		<strong>对象结构</strong>：对象结构在 JSON 中表示为 { } 括起来的内容。数据结构为 { key: value, key: value, … } 的键值对结构。其中，key 必须是使用<strong>英文的双引号包裹</strong>的字符串，value 的数据类型可以是<strong>数字</strong>、<strong>字符串</strong>、<strong>布尔值</strong>、<strong>null</strong>、<strong>数组</strong>、<strong>对象</strong>6种类型。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//错误写法</span>
<span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">'age'</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;gender&quot;</span><span class="token operator">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;hobby&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;吃饭&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;睡觉&quot;</span><span class="token punctuation">,</span> <span class="token string">'打豆豆'</span><span class="token punctuation">]</span>
    <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token comment">//JSON中不能有undefined和function</span>
<span class="token punctuation">}</span>
<span class="token comment">//正确写法</span>
<span class="token punctuation">{</span>
    <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;gender&quot;</span><span class="token operator">:</span> <span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;hobby&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;吃饭&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;睡觉&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;打豆豆&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>​		<strong>数组结构</strong>：数组结构在 JSON 中表示为 [ ] 括起来的内容。数据结构为 [ &quot;java&quot;, &quot;javascript&quot;, 30, true … ] 。数组中数据的类型可以是<strong>数字、字符串、布尔值、null、数组、对象</strong>6种类型</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span> <span class="token string">&quot;java&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;python&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;php&quot;</span> <span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300.5</span> <span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ls&quot;</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">}</span> <span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token punctuation">[</span> <span class="token string">&quot;苹果&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;榴莲&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;椰子&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_2-3-3-json-语法注意事项"><a href="#_2-3-3-json-语法注意事项" class="header-anchor">#</a> 2.3.3 JSON 语法注意事项</h4> <p>​        ①属性名必须使用双引号包裹</p> <p>​		②字符串类型的值必须使用双引号包裹</p> <p>​		③JSON 中不允许使用单引号表示字符串</p> <p>​		④JSON 中不能写注释</p> <p>​		⑤JSON 的最外层必须是对象或数组格式</p> <p>​		⑥不能使用 undefined 或函数作为 JSON 的值</p> <ul><li><strong>JSON 的作用</strong>：在计算机与网络之间存储和传输数据。</li> <li><strong>JSON 的本质</strong>：用字符串来表示 Javascript 对象数据或数组数据</li></ul> <h4 id="_2-3-4-json-和-js-对象"><a href="#_2-3-4-json-和-js-对象" class="header-anchor">#</a> 2.3.4 JSON 和 JS 对象</h4> <p>​		JSON 是 JS 对象的字符串表示法，它使用文本表示一个 JS 对象的信息，本质是一个字符串。例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//这是一个对象</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'World'</span><span class="token punctuation">}</span>

<span class="token comment">//这是一个 JSON 字符串，本质是一个字符串</span>
<span class="token keyword">var</span> json <span class="token operator">=</span> <span class="token string">'{&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;}'</span> 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_2-3-5-json-和-js-对象的互转"><a href="#_2-3-5-json-和-js-对象的互转" class="header-anchor">#</a> 2.3.5 JSON 和 JS 对象的互转</h4> <p>​		要实现从 JSON 字符串转换为 JS 对象，使用 JSON.parse() 方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'{&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;}'</span><span class="token punctuation">)</span>
<span class="token comment">//结果是 {a: 'Hello', b: 'World'}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>​</p> <p>​	要实现从 JS 对象转换为 JSON 字符串，使用 JSON.stringify() 方法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> json <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">'World'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//结果是 '{&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;}'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-3-6-序列化和反序列化"><a href="#_2-3-6-序列化和反序列化" class="header-anchor">#</a> 2.3.6 序列化和反序列化</h4> <p>​		把<strong>数据对象转换为字符串</strong>的过程，叫做<strong>序列化</strong>，例如：调用 <code>JSON.stringify()</code> 函数的操作，叫做 JSON 序列化。</p> <p>​		把<strong>字符串转换为数据对象</strong>的过程，叫做<strong>反序列化</strong>，例如：调用 <code>JSON.parse()</code> 函数的操作，叫做 JSON 反序列化。</p> <h2 id="三、封装自己得ajax函数"><a href="#三、封装自己得ajax函数" class="header-anchor">#</a> 三、封装自己得Ajax函数</h2> <h3 id="_3-1-要实现的效果"><a href="#_3-1-要实现的效果" class="header-anchor">#</a> 3.1 要实现的效果</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">1.</span> 导入自定义的ajax函数库 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;./itheima.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token comment">// 2. 调用自定义的 itheima 函数，发起 Ajax 数据请求</span>
    <span class="token function">itheima</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'请求类型'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'请求地址'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* 请求参数对象 */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 成功的回调函数</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>     <span class="token comment">// 打印数据</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_3-2-定义-options-参数选项"><a href="#_3-2-定义-options-参数选项" class="header-anchor">#</a> 3.2 定义 options 参数选项</h3> <p>​		itheima() 函数是我们自定义的 Ajax 函数，它接收一个配置对象作为参数，配置对象中可以配置如下属性：</p> <ul><li>method  请求的类型</li> <li>url      请求的 URL 地址</li> <li>data    请求携带的数据</li> <li>success  请求成功之后的回调函数</li></ul> <h3 id="_3-3-处理-data-参数"><a href="#_3-3-处理-data-参数" class="header-anchor">#</a> 3.3 处理 data 参数</h3> <p>​		需要把 data 对象，转化成查询字符串的格式，从而提交给服务器，因此提前定义 resolveData 函数如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 处理 data 参数
 * @param {data} 需要发送到服务器的数据
 * @returns {string} 返回拼接好的查询字符串 name=zs&amp;age=10
 */</span>
<span class="token keyword">function</span> <span class="token function">resolveData</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">var</span> k <span class="token keyword">in</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> data<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_3-4-定义-itheima-函数"><a href="#_3-4-定义-itheima-函数" class="header-anchor">#</a> 3.4 定义 itheima 函数</h3> <p>​		在 itheima() 函数中，需要创建 xhr 对象，并监听 onreadystatechange 事件：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">itheima</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// 拼接查询字符串</span>
  <span class="token keyword">var</span> qs <span class="token operator">=</span> <span class="token function">resolveData</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>data<span class="token punctuation">)</span>

  <span class="token comment">// 监听请求状态改变的事件</span>
  xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token parameter">xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
      <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span>
      options<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_3-5-判断请求的类型"><a href="#_3-5-判断请求的类型" class="header-anchor">#</a> 3.5 判断请求的类型</h3> <p>​		不同的请求类型，对应 xhr 对象的不同操作，因此需要对请求类型进行 if … else … 的判断：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>method<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'GET'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 发起 GET 请求</span>
    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>method<span class="token punctuation">,</span> options<span class="token punctuation">.</span>url <span class="token operator">+</span> <span class="token string">'?'</span> <span class="token operator">+</span> qs<span class="token punctuation">)</span>
    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>method<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'POST'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 发起 POST 请求</span>
    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>method<span class="token punctuation">,</span> options<span class="token punctuation">.</span>url<span class="token punctuation">)</span>
    xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'application/x-www-form-urlencoded'</span><span class="token punctuation">)</span>
    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>qs<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="四、xmlhttprequest-level2-的新特性"><a href="#四、xmlhttprequest-level2-的新特性" class="header-anchor">#</a> 四、XMLHttpRequest Level2 的新特性</h2> <h3 id="_4-1-认识xmlhttprequest-level2"><a href="#_4-1-认识xmlhttprequest-level2" class="header-anchor">#</a> 4.1 认识XMLHttpRequest Level2</h3> <h4 id="_4-1-1-旧版xmlhttprequest-的缺点"><a href="#_4-1-1-旧版xmlhttprequest-的缺点" class="header-anchor">#</a> 4.1.1 旧版XMLHttpRequest 的缺点</h4> <p>​				①只支持文本数据的传输，无法用来读取和上传文件</p> <p>​				②传送和接收数据时，没有进度信息，只能提示有没有完成</p> <h4 id="_4-1-2-xmlhttprequest-level2的新功能"><a href="#_4-1-2-xmlhttprequest-level2的新功能" class="header-anchor">#</a> 4.1.2 <strong>XMLHttpRequest</strong> <strong>Level2</strong>的新功能</h4> <p>​				①可以设置 HTTP 请求的时限</p> <p>​				②可以使用 FormData 对象管理表单数据</p> <p>​				③可以上传文件</p> <p>​				④可以获得数据传输的进度信息</p> <h3 id="_4-2-设置http请求时限"><a href="#_4-2-设置http请求时限" class="header-anchor">#</a> 4.2 设置HTTP请求时限</h3> <p>​		有时，Ajax 操作很耗时，而且无法预知要花多少时间。如果网速很慢，用户可能要等很久。新版本的 XMLHttpRequest 对象，增加了 timeout 属性，可以设置 HTTP 请求的时限：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>xhr<span class="token punctuation">.</span>timeout <span class="token operator">=</span><span class="token number">3000</span>    <span class="token comment">//毫秒</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>​		上面的语句，将最长等待时间设为 3000 毫秒。过了这个时限，就自动停止HTTP请求。与之配套的还有一个 timeout 事件，用来指定回调函数：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>xhr<span class="token punctuation">.</span><span class="token function-variable function">ontimeout</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'请求超时！'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_4-3-formdata-对象管理表单数据"><a href="#_4-3-formdata-对象管理表单数据" class="header-anchor">#</a> 4.3 FormData 对象管理表单数据</h3> <p>​		Ajax 操作往往用来提交表单数据。为了方便表单处理，HTML5 新增了一个 FormData 对象，可以模拟表单操作：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>      <span class="token comment">// 1. 新建 FormData 对象</span>
      <span class="token keyword">var</span> fd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// 2. 为 FormData 添加表单项</span>
      fd<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'uname'</span><span class="token punctuation">,</span> <span class="token string">'zs'</span><span class="token punctuation">)</span>
      fd<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'upwd'</span><span class="token punctuation">,</span> <span class="token string">'123456'</span><span class="token punctuation">)</span>
      <span class="token comment">// 3. 创建 XHR 对象</span>
      <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment">// 4. 指定请求类型与URL地址</span>
      xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token string">'http://www.liulongbin.top:3006/api/formdata'</span><span class="token punctuation">)</span>
      <span class="token comment">// 5. 直接提交 FormData 对象，这与提交网页表单的效果，完全一样</span>
      xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>​		FormData对象也可以用来获取网页表单的值，示例代码如下:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 获取表单元素</span>
 <span class="token keyword">var</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#form1'</span><span class="token punctuation">)</span>
 <span class="token comment">// 监听表单元素的 submit 事件</span>
 form<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token comment">// 根据 form 表单创建 FormData 对象，会自动将表单数据填充到 FormData 对象中</span>
     <span class="token keyword">var</span> fd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>form<span class="token punctuation">)</span>
     <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token string">'http://www.liulongbin.top:3006/api/formdata'</span><span class="token punctuation">)</span>
     xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span>
     xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_4-4-上传文件"><a href="#_4-4-上传文件" class="header-anchor">#</a> 4.4 上传文件</h3> <p>新版 XMLHttpRequest 对象，不仅可以发送文本信息，还可以上传文件。</p> <p>​	实现步骤：</p> <p>​			①定义 UI 结构</p> <p>​			②验证是否选择了文件</p> <p>​			③向 FormData 中追加文件</p> <p>​			④使用 xhr 发起上传文件的请求</p> <p>​			⑤监听 onreadystatechange 事件</p> <h4 id="_4-4-1-定义ui结构"><a href="#_4-4-1-定义ui结构" class="header-anchor">#</a> 4.4.1 定义UI结构</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">1.</span> 文件选择框 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;file&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;file1&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">2.</span> 上传按钮 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btnUpload&quot;</span><span class="token operator">&gt;</span>上传文件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">3.</span> 显示上传到服务器上的图片 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;img&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;800&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_4-4-2-验证是否选择了文件"><a href="#_4-4-2-验证是否选择了文件" class="header-anchor">#</a> 4.4.2 验证是否选择了文件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 1. 获取上传文件的按钮</span>
 <span class="token keyword">var</span> btnUpload <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#btnUpload'</span><span class="token punctuation">)</span>
 <span class="token comment">// 2. 为按钮添加 click 事件监听</span>
 btnUpload<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">// 3. 获取到选择的文件列表</span>
     <span class="token keyword">var</span> files <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#file1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>files
     <span class="token comment">//文件选择框内有files属性，是一个数组</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token parameter">files<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'请选择要上传的文件！'</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
     <span class="token comment">// ...后续业务逻辑</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_4-4-3-向-formdata-中追加文件"><a href="#_4-4-3-向-formdata-中追加文件" class="header-anchor">#</a> 4.4.3 向 FormData 中追加文件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 1. 创建 FormData 对象</span>
 <span class="token keyword">var</span> fd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token comment">// 2. 向 FormData 中追加文件</span>
 fd<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'avatar'</span><span class="token punctuation">,</span> files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_4-4-4-使用-xhr-发起上传文件的请求"><a href="#_4-4-4-使用-xhr-发起上传文件的请求" class="header-anchor">#</a> 4.4.4 使用 xhr 发起上传文件的请求</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 1. 创建 xhr 对象</span>
 <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token comment">// 2. 调用 open 函数，指定请求类型与URL地址。其中，请求类型必须为 POST</span>
 xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token string">'http://www.liulongbin.top:3006/api/upload/avatar'</span><span class="token punctuation">)</span>
 <span class="token comment">// 3. 发起请求</span>
 xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_4-4-5-监听-onreadystatechange-事件"><a href="#_4-4-5-监听-onreadystatechange-事件" class="header-anchor">#</a> 4.4.5 监听 onreadystatechange 事件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>   
xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token parameter">xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 上传文件成功</span>
      <span class="token comment">// 将服务器返回的图片地址，设置为 &lt;img&gt; 标签的 src 属性</span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#img'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'http://www.liulongbin.top:3006'</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>url
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// 上传文件失败</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_4-5-显示文件上次进度"><a href="#_4-5-显示文件上次进度" class="header-anchor">#</a> 4.5 显示文件上次进度</h3> <p>​		新版本的 XMLHttpRequest 对象中，可以通过监听 <strong>xhr.upload.onprogress</strong> 事件，来获取到文件的上传进度。语法格式如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 创建 XHR 对象</span>
 <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token comment">// 监听 xhr.upload 的 onprogress 事件</span>
 xhr<span class="token punctuation">.</span>upload<span class="token punctuation">.</span><span class="token function-variable function">onprogress</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// e.lengthComputable 是一个布尔值，表示当前上传的资源是否具有可计算的长度</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">.</span>lengthComputable</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// e.loaded 已传输的字节</span>
        <span class="token comment">// e.total  需传输的总字节</span>
        <span class="token keyword">var</span> percentComplete <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>loaded <span class="token operator">/</span> e<span class="token punctuation">.</span>total<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_4-5-1-导入需要的库"><a href="#_4-5-1-导入需要的库" class="header-anchor">#</a> 4.5.1 导入需要的库</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">&quot;stylesheet&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;./lib/bootstrap.css&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;./lib/jquery.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_4-5-2-基于-bootstrap渲染进度条"><a href="#_4-5-2-基于-bootstrap渲染进度条" class="header-anchor">#</a> 4.5.2 基于 Bootstrap渲染进度条</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>     <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 进度条 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;progress&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 500px; margin: 10px 0;&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;progress-bar progress-bar-info progress-bar-striped active&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;percent&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;width: 0%&quot;</span><span class="token operator">&gt;</span>
        <span class="token number">0</span><span class="token operator">%</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_4-5-3-监听上传进度的事件"><a href="#_4-5-3-监听上传进度的事件" class="header-anchor">#</a> 4.5.3 监听上传进度的事件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    xhr<span class="token punctuation">.</span>upload<span class="token punctuation">.</span><span class="token function-variable function">onprogress</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">.</span>lengthComputable</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. 计算出当前上传进度的百分比</span>
    <span class="token keyword">var</span> percentComplete <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>loaded <span class="token operator">/</span> e<span class="token punctuation">.</span>total<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token comment">// 2. 设置进度条的宽度</span>
     <span class="token comment">// 3. 显示当前的上传进度百分比</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#percent'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token string">'width:'</span> <span class="token operator">+</span> percentComplete <span class="token operator">+</span> <span class="token string">'%'</span><span class="token punctuation">)</span>
       <span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>percentComplete <span class="token operator">+</span> <span class="token string">'%'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_4-5-4-监听上传完成的事件"><a href="#_4-5-4-监听上传完成的事件" class="header-anchor">#</a> 4.5.4 监听上传完成的事件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code> xhr<span class="token punctuation">.</span>upload<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#percent'</span><span class="token punctuation">)</span>
         <span class="token comment">// 移除上传中的类样式</span>
         <span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
         <span class="token comment">// 添加上传完成的类样式</span>
         <span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'progress-bar progress-bar-success'</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="五、jquery-高级用法"><a href="#五、jquery-高级用法" class="header-anchor">#</a> 五、jQuery 高级用法</h2> <h3 id="_5-1-jquery实现文件上传"><a href="#_5-1-jquery实现文件上传" class="header-anchor">#</a> 5.1 jQuery实现文件上传</h3> <h4 id="_5-1-1-定义ui结构"><a href="#_5-1-1-定义ui结构" class="header-anchor">#</a> 5.1.1 定义UI结构</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 导入 jQuery <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;./lib/jquery.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 文件选择框 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;file&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;file1&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 上传文件按钮 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btnUpload&quot;</span><span class="token operator">&gt;</span>上传<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_5-1-2-验证是否选择了文件"><a href="#_5-1-2-验证是否选择了文件" class="header-anchor">#</a> 5.1.2 验证是否选择了文件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>   
 <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btnUpload'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">// 1. 将 jQuery 对象转化为 DOM 对象，并获取选中的文件列表</span>
     <span class="token keyword">var</span> files <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#file1'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>files
     <span class="token comment">// 2. 判断是否选择了文件</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token parameter">files<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span>'请选择图片后再上传！‘<span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_5-1-3-向formdata中追加文件"><a href="#_5-1-3-向formdata中追加文件" class="header-anchor">#</a> 5.1.3 向FormData中追加文件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 向 FormData 中追加文件</span>
 <span class="token keyword">var</span> fd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 fd<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'avatar'</span><span class="token punctuation">,</span> files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_5-1-4-使用jquery发起上传文件的请求"><a href="#_5-1-4-使用jquery发起上传文件的请求" class="header-anchor">#</a> 5.1.4 使用jQuery发起上传文件的请求</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code> $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
     <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
     <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://www.liulongbin.top:3006/api/upload/avatar'</span><span class="token punctuation">,</span>
     <span class="token literal-property property">data</span><span class="token operator">:</span> fd<span class="token punctuation">,</span>
     <span class="token comment">// 不修改 Content-Type 属性，使用 FormData 默认的 Content-Type 值</span>
     <span class="token literal-property property">contentType</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
     <span class="token comment">// 不对 FormData 中的数据进行 url 编码，而是将 FormData 数据原样发送到服务器</span>
     <span class="token literal-property property">processData</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
     <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_5-2-jquery-实现-loading-效果"><a href="#_5-2-jquery-实现-loading-效果" class="header-anchor">#</a> 5.2 jQuery 实现 loading 效果</h3> <h4 id="_5-2-1-ajaxstart-callback"><a href="#_5-2-1-ajaxstart-callback" class="header-anchor">#</a> 5.2.1 ajaxStart(callback)</h4> <p>​		Ajax 请求<strong>开始</strong>时，执行 ajaxStart 函数。可以在 ajaxStart 的 callback 中显示 loading 效果，示例代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 自 jQuery 版本 1.8 起，该方法只能被附加到文档(即document)</span>
 <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ajaxStart</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#loading'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>注意： $(document).ajaxStart() 函数<strong>会监听当前文档内所有的</strong> <strong>Ajax</strong> <strong>请求</strong>。</p> <h4 id="_5-2-2-ajaxstop-callback"><a href="#_5-2-2-ajaxstop-callback" class="header-anchor">#</a> 5.2.2 ajaxStop(callback)</h4> <p>​		Ajax 请求<strong>结束</strong>时，执行 ajaxStop 函数。可以在 ajaxStop 的 callback 中隐藏 loading 效果，示例代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 自 jQuery 版本 1.8 起，该方法只能被附加到文档</span>
 <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ajaxStop</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#loading'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="六、axios"><a href="#六、axios" class="header-anchor">#</a> 六、axios</h2> <h3 id="_6-1-什么是-axios"><a href="#_6-1-什么是-axios" class="header-anchor">#</a> 6.1 什么是 axios</h3> <p>​		Axios 是专注于<strong>网络数据请求</strong>的库。</p> <p>​		相比于原生的 XMLHttpRequest 对象，axios <strong>简单易用</strong>。</p> <p>​		相比于 jQuery，axios 更加<strong>轻量化</strong>，只专注于网络数据请求。</p> <h3 id="_6-2-axios-发起-get-请求"><a href="#_6-2-axios-发起-get-请求" class="header-anchor">#</a> 6.2 axios 发起 GET 请求</h3> <p>​		axios 发起 get 请求的语法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/*参数*/</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>​		具体的请求示例如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 请求的 URL 地址</span>
 <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">'http://www.liulongbin.top:3006/api/get'</span>
 <span class="token comment">// 请求的参数对象</span>
 <span class="token keyword">var</span> paramsObj <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span>
 <span class="token comment">// 调用 axios.get() 发起 GET 请求</span>
 axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> params<span class="token operator">:</span> paramsObj <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">// res.data 是服务器返回的数据</span>
     <span class="token keyword">var</span> result <span class="token operator">=</span> res<span class="token punctuation">.</span>data
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
     <span class="token comment">//res 返回的数据中res.data 才是服务器返回的数据</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_6-3-axios-发起-post-请求"><a href="#_6-3-axios-发起-post-请求" class="header-anchor">#</a> 6.3 axios 发起 POST 请求</h3> <p>​		axios 发起 post 请求的语法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token comment">/*参数*/</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>具体的请求示例如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 请求的 URL 地址</span>
 <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">'http://www.liulongbin.top:3006/api/post'</span>
 <span class="token comment">// 要提交到服务器的数据</span>
 <span class="token keyword">var</span> dataObj <span class="token operator">=</span> <span class="token punctuation">{</span> location<span class="token operator">:</span> <span class="token string">'北京'</span><span class="token punctuation">,</span> address<span class="token operator">:</span> <span class="token string">'顺义'</span> <span class="token punctuation">}</span>
 <span class="token comment">// 调用 axios.post() 发起 POST 请求</span>
 axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> dataObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">// res.data 是服务器返回的数据</span>
     <span class="token keyword">var</span> result <span class="token operator">=</span> res<span class="token punctuation">.</span>data
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_6-4-直接使用-axios-发起请求"><a href="#_6-4-直接使用-axios-发起请求" class="header-anchor">#</a> 6.4 直接使用 axios 发起请求</h3> <p>​		axios 也提供了类似于 jQuery 中 $.ajax() 的函数，语法如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
     <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'请求类型'</span><span class="token punctuation">,</span>
     <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'请求的URL地址'</span><span class="token punctuation">,</span>
     <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* POST数据 */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* GET参数 */</span> <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_6-4-1-直接使用-axios-发起-get-请求"><a href="#_6-4-1-直接使用-axios-发起-get-请求" class="header-anchor">#</a> 6.4.1 直接使用 axios 发起 GET 请求</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
     <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
     <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://www.liulongbin.top:3006/api/get'</span><span class="token punctuation">,</span>
     <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// GET 参数要通过 params 属性提供</span>
         <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span>
         age<span class="token operator">:</span> <span class="token number">20</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_6-4-2-直接使用-axios-发起-post-请求"><a href="#_6-4-2-直接使用-axios-发起-post-请求" class="header-anchor">#</a> 6.4.2 直接使用 axios 发起 POST 请求</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
     <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
     <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://www.liulongbin.top:3006/api/post'</span><span class="token punctuation">,</span>
     <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// POST 数据要通过 data 属性提供</span>
         <span class="token literal-property property">bookname</span><span class="token operator">:</span> <span class="token string">'程序员的自我修养'</span><span class="token punctuation">,</span>
         price<span class="token operator">:</span> <span class="token number">666</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/JackCin877/vuepress-theme-vdoing/edit/master/docs/02.进阶/30.Ajax/10. Ajax 加强.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/11/07, 14:30:19</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/vuepress-theme-vdoing/pages/48ccbe/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">form 表单与模板引擎</div></a> <a href="/vuepress-theme-vdoing/pages/7f49e9/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">跨域与 JSONP</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vuepress-theme-vdoing/pages/48ccbe/" class="prev">form 表单与模板引擎</a></span> <span class="next"><a href="/vuepress-theme-vdoing/pages/7f49e9/">跨域与 JSONP</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/vuepress-theme-vdoing/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/vuepress-theme-vdoing/pages/188689/"><div>
            51单片机及补充知识
            <!----></div></a> <span class="date">09-13</span></dt></dl><dl><dd>02</dd> <dt><a href="/vuepress-theme-vdoing/pages/b10f7a/"><div>
            独立按键
            <!----></div></a> <span class="date">09-13</span></dt></dl><dl><dd>03</dd> <dt><a href="/vuepress-theme-vdoing/pages/b4d59b/"><div>
            LCD1602液晶显示器
            <!----></div></a> <span class="date">09-13</span></dt></dl> <dl><dd></dd> <dt><a href="/vuepress-theme-vdoing/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:2269233033@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/JackCin877" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2023
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/vuepress-theme-vdoing/assets/js/app.ef19247d.js" defer></script><script src="/vuepress-theme-vdoing/assets/js/2.59d30681.js" defer></script><script src="/vuepress-theme-vdoing/assets/js/54.5422e26a.js" defer></script>
  </body>
</html>
