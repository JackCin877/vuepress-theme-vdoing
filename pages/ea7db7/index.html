<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux开发工具 | JackCin&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/vuepress-theme-vdoing/img/favicon.ico">
    <meta name="description" content="web前端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/vuepress-theme-vdoing/assets/css/0.styles.d3d6617d.css" as="style"><link rel="preload" href="/vuepress-theme-vdoing/assets/js/app.ef19247d.js" as="script"><link rel="preload" href="/vuepress-theme-vdoing/assets/js/2.59d30681.js" as="script"><link rel="preload" href="/vuepress-theme-vdoing/assets/js/57.79c5317f.js" as="script"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/10.895e47cd.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/100.65264761.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/101.4227158e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/102.f7fe8fb6.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/103.e938df0b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/104.813d1e73.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/105.9cadadc4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/106.7c77f682.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/107.82ef198e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/108.239ee938.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/109.f41dec57.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/11.afdc1626.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/110.718841c6.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/111.af0c9f6c.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/112.ded809e7.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/113.4b0e2248.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/114.5f1e0cca.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/115.d3bfb97a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/116.bea7171d.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/117.58e52c58.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/118.9f68c88a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/119.68f51359.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/12.d5fdc288.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/120.73fe5367.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/121.51d7018c.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/122.cf65245e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/123.f0409c02.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/13.88195303.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/14.5efb7e20.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/15.5d17711a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/16.d4ee57a8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/17.6241a69b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/18.5fe1c413.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/19.99d38ce9.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/20.802498de.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/21.d8fe6e3b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/22.e54fc887.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/23.4d468f03.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/24.80e6b4d1.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/25.fd7335b6.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/26.514dcbb3.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/27.4ba9baf9.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/28.fe7b813f.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/29.92843dc7.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/3.b222f77d.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/30.aa8da716.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/31.c330d000.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/32.aa4aeaf8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/33.efc5afb4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/34.f788eebe.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/35.1c9cb0c9.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/36.98662805.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/37.ee2e1ae8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/38.b99e909b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/39.99693b52.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/4.8052d648.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/40.886d8383.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/41.a2baf11f.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/42.88d7c3f4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/43.3426d73a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/44.17e65dff.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/45.9f3a181b.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/46.d2bbd4a8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/47.0069af15.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/48.427f0e94.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/49.6e4c55aa.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/5.0a7800d5.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/50.0f9664f8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/51.54e3e0f5.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/52.c6861735.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/53.56794768.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/54.5422e26a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/55.34e95002.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/56.09649c5a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/58.c4607eea.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/59.001ead66.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/6.f4a7523e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/60.f509a114.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/61.a2f3e83c.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/62.0b55350e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/63.e7f1cfd6.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/64.25da2825.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/65.9dcd5846.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/66.b37138f3.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/67.2498daaf.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/68.3211a118.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/69.d1221121.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/7.122cf2b2.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/70.8b7ff9d4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/71.67dae2cc.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/72.d538ddbc.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/73.2e00bd36.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/74.39b37722.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/75.18b59a37.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/76.e08c97ed.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/77.e1e6855a.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/78.137352f0.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/79.0c8e9414.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/8.3304a2cd.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/80.d2c142fd.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/81.ce37cce5.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/82.12e52dc4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/83.5ae3c013.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/84.2908f5f9.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/85.89eb409e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/86.6197f3b8.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/87.5acaa8b4.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/88.cb33954e.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/89.bec70e95.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/9.2a799cd7.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/90.4d3dbdf5.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/91.9147f662.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/92.2ec1cc34.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/93.f4079504.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/94.128a7998.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/95.ea8b5589.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/96.2494e777.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/97.deea76f2.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/98.4c611d73.js"><link rel="prefetch" href="/vuepress-theme-vdoing/assets/js/99.897092d3.js">
    <link rel="stylesheet" href="/vuepress-theme-vdoing/assets/css/0.styles.d3d6617d.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-theme-vdoing/" class="home-link router-link-active"><img src="/vuepress-theme-vdoing/img/logo.png" alt="JackCin's blog" class="logo"> <span class="site-name can-hide">JackCin's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-theme-vdoing/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/vuepress-theme-vdoing/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>页面</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/html/" class="nav-link">Html</a></li><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/css/" class="nav-link">CSS</a></li></ul></li><li class="dropdown-item"><h4>核心</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/js基础/" class="nav-link">JavaScript基础</a></li><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/js高级/" class="nav-link">JavaScript高级</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/vue/" class="nav-link"> Vue</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><a href="/vuepress-theme-vdoing/up/" class="link-title">进阶</a> <span class="title" style="display:none;">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/jquery/" class="nav-link">jQuery</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/d91b9c/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/fee75e/" class="nav-link">Ajax</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-theme-vdoing/linux/" class="nav-link">Linux</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/vuepress-theme-vdoing/计算机基础/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/操作系统/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/数据结构与算法/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="单片机" class="dropdown-title"><a href="/vuepress-theme-vdoing/单片机/" class="link-title">单片机</a> <span class="title" style="display:none;">单片机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/51单片机/" class="nav-link">51单片机</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/ea7db7/404" class="nav-link">CC2530</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/vuepress-theme-vdoing/pages/beb6c0bd8a66cea6/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/vuepress-theme-vdoing/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/JackCin877/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://jackcin877.github.io/image-hosting/blog/%E5%A4%8F%E7%9B%AE.4npqayre72c0.jpg"> <div class="blogger-info"><h3>JackCin</h3> <span>前端小菜鸡(✪ω✪)</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/vuepress-theme-vdoing/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/vuepress-theme-vdoing/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>页面</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/html/" class="nav-link">Html</a></li><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/css/" class="nav-link">CSS</a></li></ul></li><li class="dropdown-item"><h4>核心</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/js基础/" class="nav-link">JavaScript基础</a></li><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/js高级/" class="nav-link">JavaScript高级</a></li></ul></li><li class="dropdown-item"><h4>框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-theme-vdoing/vue/" class="nav-link"> Vue</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><a href="/vuepress-theme-vdoing/up/" class="link-title">进阶</a> <span class="title" style="display:none;">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/jquery/" class="nav-link">jQuery</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/d91b9c/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/fee75e/" class="nav-link">Ajax</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-theme-vdoing/linux/" class="nav-link">Linux</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/vuepress-theme-vdoing/计算机基础/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/操作系统/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/数据结构与算法/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="单片机" class="dropdown-title"><a href="/vuepress-theme-vdoing/单片机/" class="link-title">单片机</a> <span class="title" style="display:none;">单片机</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/51单片机/" class="nav-link">51单片机</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/ea7db7/404" class="nav-link">CC2530</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/vuepress-theme-vdoing/pages/beb6c0bd8a66cea6/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/vuepress-theme-vdoing/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/vuepress-theme-vdoing/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/JackCin877/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux系统编程入门</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-theme-vdoing/pages/ea7db7/" aria-current="page" class="active sidebar-link">Linux开发工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/ea7db7/#环境搭建" class="sidebar-link">环境搭建</a></li><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/ea7db7/#一、gcc" class="sidebar-link">一、GCC</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_1、什么是gcc" class="sidebar-link">1、什么是GCC</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_2、编程语言的发展" class="sidebar-link">2、编程语言的发展</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_3、gcc的工作流程" class="sidebar-link">3、GCC的工作流程</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_4、gcc-和-g-的区别" class="sidebar-link">4、gcc 和 g++ 的区别</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_5、gcc常用参数选项" class="sidebar-link">5、GCC常用参数选项</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/ea7db7/#二、静态库与动态库" class="sidebar-link">二、静态库与动态库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_1、什么是库" class="sidebar-link">1、什么是库</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_2、静态库的制作" class="sidebar-link">2、静态库的制作</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_2-1-命名规则" class="sidebar-link">2.1 命名规则</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_2-2-制作" class="sidebar-link">2.2 制作</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_3、静态库的使用" class="sidebar-link">3、静态库的使用</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_4、动态库的制作" class="sidebar-link">4、动态库的制作</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_4-1-命名规则" class="sidebar-link">4.1 命名规则</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_4-2-制作" class="sidebar-link">4.2 制作</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_4-3-制作流程" class="sidebar-link">4.3 制作流程</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_5、静态-动态库的工作原理" class="sidebar-link">5、静态/动态库的工作原理</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_6、💛解决动态库使用的问题" class="sidebar-link">6、💛解决动态库使用的问题</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_6-1-在终端中配置" class="sidebar-link">6.1 在终端中配置</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_6-2-用户级别的配置" class="sidebar-link">6.2 用户级别的配置</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_6-3-系统级别的配置" class="sidebar-link">6.3 系统级别的配置</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_6-4-配置-etc-ld-so-cache文件列表" class="sidebar-link">6.4  配置/etc/ld.so.cache文件列表</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_6-5-方式三" class="sidebar-link">6.5 方式三</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_7、静态库和动态库对比" class="sidebar-link">7、静态库和动态库对比</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_7-1-程序编译成可执行文件的过程" class="sidebar-link">7.1 程序编译成可执行文件的过程</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_7-2-静态库制作过程" class="sidebar-link">7.2 静态库制作过程</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_7-3-动态库制作过程" class="sidebar-link">7.3 动态库制作过程</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_7-4-静态库优缺点" class="sidebar-link">7.4 静态库优缺点</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_7-5-动态库优缺点" class="sidebar-link">7.5 动态库优缺点</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/ea7db7/#三、makfile" class="sidebar-link">三、Makfile</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_1、什么是makefile" class="sidebar-link">1、什么是Makefile</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_2、makefile-文件命名和规则" class="sidebar-link">2、Makefile 文件命名和规则</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_3、工作原理" class="sidebar-link">3、工作原理</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_4、变量" class="sidebar-link">4、变量</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_5、匹配模式" class="sidebar-link">5、匹配模式</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_6、函数" class="sidebar-link">6、函数</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_6-1-获取文件函数" class="sidebar-link">6.1 获取文件函数</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_6-2-替换字符串函数" class="sidebar-link">6.2 替换字符串函数</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_6-3-clean-和-phony" class="sidebar-link">6.3 clean 和 PHONY</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/vuepress-theme-vdoing/pages/ea7db7/#四、gdb调试" class="sidebar-link">四、GDB调试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_1、什么是gdb" class="sidebar-link">1、什么是GDB</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_2、准备工作" class="sidebar-link">2、准备工作</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_3、✨gdb命令-启动-退出-查看" class="sidebar-link">3、✨GDB命令 - 启动,退出,查看</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_3-1-启动与退出" class="sidebar-link">3.1 启动与退出</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_3-2-给程序设置参数-获取设置参数" class="sidebar-link">3.2 给程序设置参数/获取设置参数</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_3-3-gdb使用帮助" class="sidebar-link">3.3 GDB使用帮助</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_3-4-查看当前文件代码" class="sidebar-link">3.4 查看当前文件代码</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_3-5-查看非当前文件代码" class="sidebar-link">3.5 查看非当前文件代码</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_3-6-设置显示的行数" class="sidebar-link">3.6 设置显示的行数</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_4、gdb命令-断点" class="sidebar-link">4、GDB命令 - 断点</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_5、gdb命令-调试命令" class="sidebar-link">5、GDB命令 - 调试命令</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_5-1-运行gdb程序" class="sidebar-link">5.1 运行GDB程序</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_5-2-继续运行-到下一个断点停" class="sidebar-link">5.2 继续运行，到下一个断点停</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_5-3-向下执行一行代码-不会进入函数体" class="sidebar-link">5.3 向下执行一行代码（不会进入函数体）</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_5-4-变量操作" class="sidebar-link">5.4 变量操作</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_5-5-向下单步调试-遇到函数进入函数体" class="sidebar-link">5.5 向下单步调试（遇到函数进入函数体）</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_5-6-自动变量操作" class="sidebar-link">5.6 自动变量操作</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_5-7-设置变量值与跳出循环" class="sidebar-link">5.7 设置变量值与跳出循环</a></li><li class="sidebar-sub-header level4"><a href="/vuepress-theme-vdoing/pages/ea7db7/#_5-8-命令测试" class="sidebar-link">5.8 命令测试</a></li></ul></li></ul></li><li><a href="/vuepress-theme-vdoing/pages/a358ad/" class="sidebar-link">文件IO</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 多进程开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 多线程开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux 网络编程</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/vuepress-theme-vdoing/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/vuepress-theme-vdoing/linux/#Linux" data-v-06225672>Linux</a></li><li data-v-06225672><a href="/vuepress-theme-vdoing/linux/#Linux系统编程入门" data-v-06225672>Linux系统编程入门</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/JackCin877" target="_blank" title="作者" class="beLink" data-v-06225672>JackCin</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-09-12</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Linux开发工具<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="linux-开发工具"><a href="#linux-开发工具" class="header-anchor">#</a> Linux 开发工具</h1> <p><a href="https://www.nowcoder.com/study/live/504" target="_blank" rel="noopener noreferrer">课程列表_牛客网 (nowcoder.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="环境搭建"><a href="#环境搭建" class="header-anchor">#</a> 环境搭建</h2> <blockquote><ol><li><p>安装Linux系统（虚拟机安装、云服务器） https://releases.ubuntu.com/bionic/</p></li> <li><p>安装XSHELL、XFTP https://www.netsarang.com/zh/free-for-home-school/</p></li> <li><ol start="3"><li>安装Visual Studio Code https://code.visualstudio.com/</li></ol></li></ol></blockquote> <h2 id="一、gcc"><a href="#一、gcc" class="header-anchor">#</a> 一、GCC</h2> <h3 id="_1、什么是gcc"><a href="#_1、什么是gcc" class="header-anchor">#</a> 1、什么是GCC</h3> <ul><li>◼ GCC 原名为 GNU C语言编译器（GNU C Compiler）</li> <li>◼ GCC（GNU Compiler Collection，GNU编译器套件）是由 GNU 开发的编程语言 译器。GNU 编译器套件包括 C、C++、Objective-C、Java、Ada 和 Go 语言前端，也包括了这些语言的库（如 libstdc++，libgcj等）</li> <li>◼ GCC 不仅支持 C 的许多“方言”，也可以区别不同的 C 语言标准；可以使用命令行 选项来控制编译器在翻译源代码时应该遵循哪个 C 标准。例如，当使用命令行参数 <code>-std=c99</code> 启动 GCC 时，编译器支持 C99 标准。</li> <li>◼ 安装命令 <strong><code>sudo apt install gcc g++</code></strong> （版本 &gt; 4.8.5）</li> <li>◼ 查看版本 <strong><code>gcc/g++ -v/--version</code></strong></li></ul> <h3 id="_2、编程语言的发展"><a href="#_2、编程语言的发展" class="header-anchor">#</a> 2、编程语言的发展</h3> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E7%9A%84%E5%8F%91%E5%B1%95.5eoomxtfxqw0.webp" alt="编程语言的发展"></p> <h3 id="_3、gcc的工作流程"><a href="#_3、gcc的工作流程" class="header-anchor">#</a> 3、GCC的工作流程</h3> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GCC%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B.5t8ex2hiwg80.webp" alt="GCC的工作流程"></p> <h3 id="_4、gcc-和-g-的区别"><a href="#_4、gcc-和-g-的区别" class="header-anchor">#</a> 4、gcc 和 g++ 的区别</h3> <ul><li><p>gcc 和 g++都是GNU(组织)的一个编译器。</p></li> <li><p>误区一：gcc 只能编译 c 代码，g++ 只能编译 c++ 代码。两者都可以，请注意：</p> <ul><li><strong>后缀为 .c 的，gcc 把它当作是 C 程序，而 g++ 当作是 c++ 程序</strong></li> <li><strong>后缀为 .cpp 的，两者都会认为是 C++ 程序</strong>，C++ 的语法规则更加严谨一些</li> <li><strong>编译阶段，g++ 会调用 gcc</strong>，对于 C++ 代码，两者是等价的，但是因为 <strong>gcc 命令不能自动和 C++ 程序使用的库联接，所以通常用 g++ 来完成链接，为了统 一起见，干脆编译/链接统统用 g++ 了，这就给人一种错觉，好像 cpp 程序只能用 g++ 似的</strong></li></ul></li> <li><p>误区二：<strong>gcc 不会定义 __cplusplus 宏，而 g++ 会</strong></p> <ul><li>实际上，<strong>这个宏只是标志着编译器将会把代码按 C 还是 C++ 语法来解释</strong></li> <li>如上所述，如果后缀为 .c，并且采用 gcc 编译器，则该宏就是未定义的，否则， 就是已定义</li></ul></li> <li><p>误区三：编译只能用 gcc，链接只能用 g++</p> <ul><li>严格来说，这句话不算错误，但是它混淆了概念，应该这样说：<strong>编译可以用 gcc/g++，而链接可以用 g++ 或者 gcc -lstdc++。</strong> <ul><li>gcc -lstdc++ （-l表示链接，std是标准的意思，所以这个语句就是按c++标准链接的意思）</li></ul></li> <li><strong>gcc 命令不能自动和C++程序使用的库联接，所以通常使用 g++ 来完成联接。 但在编译阶段，g++ 会自动调用 gcc，二者等价</strong></li></ul></li></ul> <h3 id="_5、gcc常用参数选项"><a href="#_5、gcc常用参数选项" class="header-anchor">#</a> 5、GCC常用参数选项</h3> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GCC%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0%E9%80%89%E9%A1%B91.4knqvi1jwpo0.webp" alt="GCC常用参数选项1"></p> <ul><li><p>-E 命令对应生成 预处理后源代码（一般以 .i 为后缀）</p></li> <li><p>-S 命令对应生成 汇编代码（一般以 .s 为后缀）</p></li> <li><p>-c 命令对应生成库代码（一般以 .o 为后缀），为二进制不能直接运行</p></li> <li><p><img src="https://jackcin877.github.io/image-hosting/Linux/GCC%E7%BC%96%E8%AF%91%E6%B5%8B%E8%AF%95.1bxp2wk1wb34.webp" alt="GCC编译测试"></p> <ul><li><p>上图，<strong>倒数第一个 gcc test.c -S  和gcc test.c 指令表明，就算跳过前面 -E ,-S,-O指令，直接执行后面的指令，gcc也会自动把前面的转换完成，如 执行gcc test.c -S 后，直接跳过了test.i 生成 test.c 生成了 test.s文件（其实不是跳过，只是内部执行了）</strong></p></li> <li><p><strong>如果不使用 -o 给生成文件重命名，gcc会自动给文件命名，好像只有 gcc test.c  执行后，会自动生成 a.out 可执行程序</strong>（如果执行的是 <code>gcc test.c -S</code>  那默认生成的好像就是 <code>test.s</code> 文件，其他指令生成的都是原名）</p></li> <li><p><strong>以上代码的 gcc 改成 g++ 也能一样完成</strong></p></li></ul></li> <li><p>-o 可以有两种写法</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token number">1</span>. gcc test.c <span class="token parameter variable">-o</span> a.out
<span class="token number">2</span>. gcc <span class="token parameter variable">-o</span> test.c a.out
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>-D  (看下图，shell里面的语句就相当于在<code>test.c</code>里定义了 <code>DEBUG</code> )</p> <ul><li>-D的写法可以像下图一样连起来写，也可以不连</li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/gcc%E7%BC%96%E8%AF%91%E9%80%89%E9%A1%B9-D%E4%B8%8E-Wall.68k3w95dses0.webp" alt="gcc编译选项-D与-Wall"></p></li> <li><p>-Wall 作用看上图（这里的警告就是，未使用的变量a）</p></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GCC%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0%E9%80%89%E9%A1%B92.685fqgle5e40.webp" alt="GCC常用参数选项2"></p> <p>-On 优化解释：</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//好比我们有这样一串代码</span>
<span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">;</span>
a<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
b<span class="token operator">=</span>a<span class="token punctuation">;</span>
c<span class="token operator">=</span>b<span class="token punctuation">;</span>
b<span class="token operator">=</span>d<span class="token punctuation">;</span>

<span class="token comment">//那经过优化就会变成这样c</span>
<span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">;</span>
a<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
b<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
c<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>
d<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>

<span class="token comment">//这样可以防止一些反汇编工具，对我们的可执行文件进行逆向处理，生成我们的源代码（因为优化后代码逻辑没有被发现，好比这里并不是全都赋值10，而是b=a，c=b。。。）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ul><li><code>-I</code>, <code>-L</code> ,<code>-l</code> 具体使用可以看下面静态库使用部分</li></ul> <h2 id="二、静态库与动态库"><a href="#二、静态库与动态库" class="header-anchor">#</a> 二、静态库与动态库</h2> <h3 id="_1、什么是库"><a href="#_1、什么是库" class="header-anchor">#</a> 1、什么是库</h3> <blockquote><ul><li>库文件是计算机上的一类文件，可以简单的把库文件看成一种代码仓库，它提供给使用 者一些可以直接拿来用的变量、函数或类。</li> <li>库是特殊的一种程序，编写库的程序和编写一般的程序区别不大，只是库不能单独运行。</li> <li>库文件有两种，<strong>静态库和动态库（共享库）</strong>，区别是：<strong>静态库在程序的链接阶段被复制到了程序中；动态库在链接阶段没有被复制到程序中，而是程序在运行时由系统动态加 载到内存中供程序调用。</strong></li> <li>库的好处：<strong>1.代码保密 2.方便部署和分发</strong></li></ul></blockquote> <h3 id="_2、静态库的制作"><a href="#_2、静态库的制作" class="header-anchor">#</a> 2、静态库的制作</h3> <h4 id="_2-1-命名规则"><a href="#_2-1-命名规则" class="header-anchor">#</a> 2.1 命名规则</h4> <ul><li><ol><li>命名规则：</li></ol> <ul><li><strong>Linux : libxxx.a</strong> <ul><li>lib : 前缀（固定）</li> <li>xxx : 库的名字，自己起</li> <li>.a : 后缀（固定）</li></ul></li> <li><strong>Windows : libxxx.lib</strong></li></ul></li></ul> <h4 id="_2-2-制作"><a href="#_2-2-制作" class="header-anchor">#</a> 2.2 制作</h4> <ul><li><ol start="2"><li>静态库的制作🛠</li></ol> <ul><li>gcc 获得 .o 文件 （gcc 的-c 指令获得库代码😎）</li> <li>将 .o 文件打包，使用 ar 工具（archive）</li> <li><strong><code>ar rcs libxxx.a xxx.o xxx.o</code></strong> <ul><li>r – 将文件插入备存文件中 （<strong>插入 .o 文件</strong>）</li> <li>c – <strong>建立备存文件</strong>  （我们用ar指令创建出来的文件就是备存文件，c：create创建）</li> <li>s – 索引 （<strong>因为 .o 文件不止一个会有很多，所以要有索引去查找</strong>）</li></ul></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E5%88%B6%E4%BD%9C%E9%9D%99%E6%80%81%E5%BA%931.4gih3q6zpb80.webp" alt="制作静态库1"></p> <ul><li><code>tree</code> 命令是将文件以树状显示</li></ul> <h3 id="_3、静态库的使用"><a href="#_3、静态库的使用" class="header-anchor">#</a> 3、静态库的使用</h3> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E9%9D%99%E6%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A81.jnhame2qr7c.webp" alt="静态库的使用1"></p> <ul><li><ol><li><p>head.c 和 和要生成.o文件的c文件并不在同一目录下，但是.c 文件却include了head.c</p> <ul><li><div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//sub.c</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;head.h&quot;</span></span>

<span class="token keyword">int</span> <span class="token function">subtract</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">-</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul></li></ol></li> <li><ol start="2"><li>gcc 编译使用 <strong><code>-I</code> 指定 include 包含文件的搜索目录</strong></li></ol></li> <li><ol start="3"><li>制作静态库（<strong>注意命名规则</strong>）</li></ol></li> <li><ol start="4"><li>因为此时我们制作的静态库在<code>src</code>目录下，但是我们想要把他放得到 lib目录下，所以使用 <code>mv</code> 命令移动文件</li></ol></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E9%9D%99%E6%80%81%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A82.6enl1hsfti40.webp" alt="静态库的使用2"></p> <ul><li><ol start="5"><li><code>head.c</code>和<code>main.c</code> 不在同一目录下，所以要指定 <code>head.c</code>的搜索目录，但是因为我们制作的库和mian也不在同一目录，所以必须指定库的位置和使用的库</li></ol></li> <li><ol start="6"><li><strong><code>-l</code>在程序编译时，指定使用的库</strong>（注意，我们的库名是 **<code>suanshu</code>**而不是 <code>libsuanshu</code> 也不要写 <code>libsuanshu.a</code>）</li></ol></li> <li><ol start="7"><li><strong><code>-L</code>指定编译时，搜索库的路径</strong></li></ol></li></ul> <h3 id="_4、动态库的制作"><a href="#_4、动态库的制作" class="header-anchor">#</a> 4、动态库的制作</h3> <h4 id="_4-1-命名规则"><a href="#_4-1-命名规则" class="header-anchor">#</a> 4.1 命名规则</h4> <ul><li><strong>Linux : libxxx.so</strong> <ul><li>lib : 前缀（固定）</li> <li>xxx : 库的名字，自己起</li> <li>.so : 后缀（固定）</li> <li><strong>在Linux下是一个可执行文件</strong></li></ul></li> <li>Windows : <strong>libxxx.dll</strong></li></ul> <h4 id="_4-2-制作"><a href="#_4-2-制作" class="header-anchor">#</a> 4.2 制作</h4> <ul><li>gcc 得到 .o 文件，得到和位置无关的代码
<ul><li><strong><code>gcc -c –fpic/-fPIC a.c b.c</code></strong></li></ul></li> <li>gcc 得到动态库
<ul><li><strong><code>gcc -shared a.o b.o -o libcalc.so</code></strong></li> <li>上面命令里的 <code>libcalc.so</code> 不是固定的，而是libXXX.so ,XXX就是库名</li></ul></li></ul> <h4 id="_4-3-制作流程"><a href="#_4-3-制作流程" class="header-anchor">#</a> 4.3 制作流程</h4> <h5 id="_4-3-1-文件准备"><a href="#_4-3-1-文件准备" class="header-anchor">#</a> 4.3.1 文件准备</h5> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E5%8A%A8%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C1.6jj1pct0n540.webp" alt="动态库制作1"></p> <ul><li>创建目录文件 <code>mkdir 目录名</code></li> <li>拷贝文件，<code>cp calc library ../lesson06</code> <ul><li>将 当前目录下的 calc文件夹 和 library 文件夹拷贝到 上层目录的lessson06目录下</li> <li>注意：这里这样拷贝没成功，下面有提示，这时要在 上面命令后面加上 <code>-r</code> ，表示以递归方式拷贝</li></ul></li></ul> <h5 id="_4-3-2-制作动态库"><a href="#_4-3-2-制作动态库" class="header-anchor">#</a> 4.3.2 制作动态库</h5> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E5%88%B6%E4%BD%9C%E5%8A%A8%E6%80%81%E5%BA%932.6iyv1ft2f300.webp" alt="制作动态库2"></p> <ul><li><p>先将拷贝过来的文件清理成我们需要的样子，如上图（就是把之前我们制作静态库时生成的 <code>.o</code>和库文件删除），如果我们以来就没有这些东西，就不用啦。</p></li> <li><p><strong><code>gcc -c –fpic add.c div.c mult.c sub.c</code></strong>  gcc 得到 .o 文件，得到和位置无关的代码</p></li> <li><p><strong><code>gcc -shared add.o sub.o mult.o div.o -o libcalc.so</code></strong> gcc 得到动态库 <strong>calc</strong></p></li> <li><p>显示绿🐍的文件说明是可执行文件</p></li></ul> <h5 id="_4-3-3-使用动态库文件的问题"><a href="#_4-3-3-使用动态库文件的问题" class="header-anchor">#</a> 4.3.3 使用动态库文件的问题</h5> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E5%8A%A8%E6%80%81%E5%BA%93%E7%9A%84%E5%88%B6%E4%BD%9C3.6p85bmpaq5k0.webp" alt="动态库的制作3"></p> <ul><li>这里是已经把我们制作的 <code>libcalc.so</code>文件 使用<code>cp</code>命令copy到了 library 目录的lib目录下</li> <li>黄色框的问题我们在制作静态库时有解释，就不再说了</li> <li><strong>在我们制作完动态库后，并使用其编译 main.c  的可执行文件时，我们可以正确生成可执行文件 <code>main</code>，但是在运行可执行文件时就出现了蓝色框内的错误（加载共享库失败，找不到libcalc.so文件），这就与动态库的工作原理有关了</strong></li></ul> <h3 id="_5、静态-动态库的工作原理"><a href="#_5、静态-动态库的工作原理" class="header-anchor">#</a> 5、静态/动态库的工作原理</h3> <ul><li><strong>静态库</strong>：GCC 进行链接时，会把静态库中代码打包到可执行程序中</li> <li><strong>动态库</strong>：<strong>GCC 进行链接时，动态库的代码不会被打包到可执行程序中</strong></li> <li><strong>程序启动之后，动态库会被动态加载到内存中</strong>，通过 <code>ldd</code> （list dynamic  dependencies）<strong>命令检查动态库依赖关系</strong></li> <li>如何定位共享库文件呢？
<ul><li>当系统加载可执行代码时候，能够知道其所依赖的库的名字，但是还需要知道绝对路径。此时就<strong>需要系统的动态载入器来获取该绝对路径</strong>。对于elf格式的可执行程序，是 由<strong>ld-linux.so</strong>来完成的，<strong>它先后搜索elf文件的 DT_RPATH段 ——&gt; 环境变量 LD_LIBRARY_PATH ——&gt; /etc/ld.so.cache文件列表 ——&gt; /lib/，/usr/lib 目录找到库文件后将其载入内存</strong>。</li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E6%A3%80%E6%9F%A5%E5%8A%A8%E6%80%81%E5%BA%93%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB.3xur4qvoask0.webp" alt="检查动态库依赖关系"></p> <ul><li>可以看出找不到<code>main</code> 找不到我们的 <code>calc</code> 库</li> <li>倒数第三行 <strong>libc.so.6就标准的c库</strong>， =》后面的就是它的路径</li> <li>倒数第二行那个就是系统的动态载入器（后面括号就是其在内存地址）</li></ul> <h3 id="_6、💛解决动态库使用的问题"><a href="#_6、💛解决动态库使用的问题" class="header-anchor">#</a> 6、💛解决动态库使用的问题</h3> <blockquote><p>方法1、配置环境变量，有3中配置方式</p> <p>在配置<strong>系统级环境变量</strong>时，有时在配置完使用 ldd 指令检测时检测不到或者出现<code>ehco $LD_LIBRARY_PATH</code>后显示的路径为多条正确路径，可以关闭终端再重新链接就好了（反正就是确定配置好了，但是找不到依赖就出现打开终端，当然在终端配置方式除外，毕竟终端配置环境变量，一关闭终端就没了）</p></blockquote> <h4 id="_6-1-在终端中配置"><a href="#_6-1-在终端中配置" class="header-anchor">#</a> 6.1 在终端中配置</h4> <blockquote><p><strong>缺点是这种配置方式是临时的，如果我们关闭终端，再次执行 main文件 ，就又找不到 calc 文件了</strong></p></blockquote> <ul><li>在终端中配置 <strong>LD_LIBRARY_PATH</strong> 环境变量</li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E7%BB%88%E7%AB%AF%E9%85%8D%E7%BD%AELD_LIBRARY_PATH.3uls0u81kiq0.webp" alt="终端配置LD_LIBRARY_PATH"></p> <ul><li><p>黄色框内命令解释：</p> <ul><li><code>export</code> <strong>设置或显示环境变量</strong>；</li> <li><code>$</code><strong>表示获取</strong>，上面代码中就表示获取 <code>LD_LIBRARY_PATH</code> 的值；</li> <li><code>:</code> 因为环境变量里每个路径都是用 <code>:</code>隔开的，所以我们添加环境变量也要有<code>:</code>隔开；</li> <li><strong>这整句话就是获取原来<code>LD_LIBRARY_PATH</code>的值再添加上我们要加入的库文件的绝对路径，再赋给<code>LD_LIBRARY_PATH</code></strong></li></ul></li> <li><p>蓝色框命令解释：</p> <ul><li><code>echo</code>  功能：显示文字；</li> <li>整句就是 <strong>获取 <code>LD_LIBRARY_PATH</code> 显示出来</strong></li></ul></li> <li><p>从紫色（感觉像深粉）框：可以看到我们查找<code>main</code>依赖时可以找到库文件 <code>calc</code>了，因此<strong>执行 main文件成功</strong></p></li></ul> <h4 id="_6-2-用户级别的配置"><a href="#_6-2-用户级别的配置" class="header-anchor">#</a> 6.2 用户级别的配置</h4> <ul><li><code>cd</code>回到主目录 ，<code>vim .bashrc</code>  ,在文件末尾添加下图框内语句配置环境变量，然后保存退出</li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E7%94%A8%E6%88%B7%E7%BA%A7%E9%85%8D%E7%BD%AE.2mp4vyb2a3s0.webp" alt="用户级配置"></p> <ul><li>但这时我们的配置并没有生效，我们还需要执行
<ul><li><code>. .bashrc</code> 或者 <code>source .bashrc</code> 这两个命令使其立即生效(这两个命令作用一样，. 是简写)</li> <li><strong>source命令也称为“点命令”，也就是一个点符号（.）,是bash的内部命令，通常用于重新执行刚修改的初始化文件，使之立即生效，而不必注销并重新登录</strong>。</li></ul></li> <li><img src="https://jackcin877.github.io/image-hosting/Linux/%E7%94%A8%E6%88%B7%E7%BA%A7%E9%85%8D%E7%BD%AE2.2kgzhxxj45k0.webp" alt="用户级配置2"></li></ul> <h4 id="_6-3-系统级别的配置"><a href="#_6-3-系统级别的配置" class="header-anchor">#</a> 6.3 系统级别的配置</h4> <ul><li>在使用系统配置时，记得把之前终端配置（重启终端，感觉也可以按配置时的写法来删除）或者用户配置（<code>vim .bashrc</code>删除我们写进去的配置 ）的配置删除</li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E7%B3%BB%E7%BB%9F%E7%BA%A7%E9%85%8D%E7%BD%AE.5bkc4o82xc00.webp" alt="系统级配置"></p> <ul><li>红色框是写错了文件，不用管😂，但是里面那个 <code>~</code>表示的是在home目录（主目录里）</li> <li><strong>系统级就是所以<code>vim /etc/profile</code> 命令，在 /etc/profile 文件末尾添加 <code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:库文件路径</code>，这个语句，然后保存并退出，使用 <code>source /etc/profile</code>使修改立即生效</strong></li> <li>注意：修改 /etc/profile 文件需要一定权限，所以要用<code>sudo</code></li></ul> <h4 id="_6-4-配置-etc-ld-so-cache文件列表"><a href="#_6-4-配置-etc-ld-so-cache文件列表" class="header-anchor">#</a> 6.4  配置/etc/ld.so.cache文件列表</h4> <blockquote><p>方法2：配置 /etc/ld.so.cache文件列表</p> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E9%85%8D%E7%BD%AE-/etc/ld.so.cache.4k8dwfzcnda0.webp" alt="ld"></p></blockquote> <ul><li>因为 <strong>/etc/ld.so.cache</strong> 是二进制文件我们不能修改所以我们配置 <strong>/etc/ld.so.conf</strong> 文件</li> <li>加入 <strong>/etc/ld.so.conf</strong> 文件 后，我们在里面写下我们要配置的库的绝对路径，这里我们就是写
<ul><li><code>/home/nowcoder/Linux/lesson06/library/lib</code>，保存退出</li></ul></li> <li>再使用<code>sudo ldconfig</code> 命令更新配置</li></ul> <h4 id="_6-5-方式三"><a href="#_6-5-方式三" class="header-anchor">#</a> 6.5 方式三</h4> <blockquote><p>将我们的动态库文件放到/lib/，/usr/lib 这两个目录下，但是最好别这样做，因为这两个目录里本来就包含很多系统自带的文件，如果加到这里面，可能会导致和本来的文件重名，引起冲突</p></blockquote> <h3 id="_7、静态库和动态库对比"><a href="#_7、静态库和动态库对比" class="header-anchor">#</a> 7、静态库和动态库对比</h3> <h4 id="_7-1-程序编译成可执行文件的过程"><a href="#_7-1-程序编译成可执行文件的过程" class="header-anchor">#</a> 7.1 程序编译成可执行文件的过程</h4> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E7%A8%8B%E5%BA%8F%E7%BC%96%E8%AF%91%E6%88%90%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6%E7%9A%84%E8%BF%87%E7%A8%8B.10cwcj24xin4.webp" alt="程序编译成可执行文件的过程"></p> <h4 id="_7-2-静态库制作过程"><a href="#_7-2-静态库制作过程" class="header-anchor">#</a> 7.2 静态库制作过程</h4> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E9%9D%99%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E8%BF%87%E7%A8%8B.4psrdgx8nx80.webp" alt="静态库制作过程"></p> <h4 id="_7-3-动态库制作过程"><a href="#_7-3-动态库制作过程" class="header-anchor">#</a> 7.3 动态库制作过程</h4> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E5%8A%A8%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E8%BF%87%E7%A8%8B.vyv3iujpuu8.webp" alt="动态库制作过程"></p> <ul><li>动态库加载不知道什么时候加载，也不知道加载到哪一块区域，所以要生成与位置无关代码 <code>-fpic</code></li></ul> <h4 id="_7-4-静态库优缺点"><a href="#_7-4-静态库优缺点" class="header-anchor">#</a> 7.4 静态库优缺点</h4> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E9%9D%99%E6%80%81%E5%BA%93%E4%BC%98%E7%BC%BA%E7%82%B9.5vwm3eklmqk0.webp" alt="静态库优缺点"></p> <h4 id="_7-5-动态库优缺点"><a href="#_7-5-动态库优缺点" class="header-anchor">#</a> 7.5 动态库优缺点</h4> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E5%8A%A8%E6%80%81%E5%BA%93%E4%BC%98%E7%BC%BA%E7%82%B9.2lx9qi9asts0.webp" alt="动态库优缺点"></p> <h2 id="三、makfile"><a href="#三、makfile" class="header-anchor">#</a> 三、Makfile</h2> <h3 id="_1、什么是makefile"><a href="#_1、什么是makefile" class="header-anchor">#</a> 1、什么是Makefile</h3> <ul><li>一个工程中的源文件不计其数，其按类型、功能、模块分别放在若干个目录中， Makefile 文件定义了一系列的规则来指定哪些文件需要先编译，哪些文件需要后编 译，哪些文件需要重新编译，甚至于进行更复杂的功能操作，因为 Makefile 文件就 像一个 Shell 脚本一样，也可以执行操作系统的命令。</li> <li>Makefile 带来的好处就是“自动化编译” ，一旦写好，只需要一个 make 命令，整 个工程完全自动编译，极大的提高了软件开发的效率。make 是一个命令工具，是一个 解释 Makefile 文件中指令的命令工具，一般来说，大多数的 IDE 都有这个命令， 比如 Delphi 的 make，Visual C++ 的 nmake，Linux 下 GNU 的 make。</li></ul> <h3 id="_2、makefile-文件命名和规则"><a href="#_2、makefile-文件命名和规则" class="header-anchor">#</a> 2、Makefile 文件命名和规则</h3> <ul><li><p>文件命名</p> <ul><li><strong>makefile 或者 Makefile</strong></li></ul></li> <li><p><strong>Makefile 规则</strong></p> <ul><li><p>一个 Makefile 文件中可以有一个或者多个规则</p> <ul><li><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>目标 <span class="token punctuation">..</span>.: 依赖 <span class="token punctuation">..</span>. 
	命令（Shell 命令） 
	<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>目标：<strong>最终要生成的文件</strong>（伪目标除外）</p></li> <li><p>依赖：<strong>生成目标所需要的文件或是目标</strong></p></li> <li><p>命令：通过执行命令对依赖操作生成目标（<strong>命令前必须 Tab 缩进</strong>）</p></li></ul></li> <li><p><strong>Makefile 中的其它规则一般都是为第一条规则服务的。</strong></p></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E5%88%9D%E5%A7%8BMakefile.km8kq1nk5s0.webp" alt="初始Makefile"></p> <ul><li><code>make</code>命令执行 Makefile 文件</li></ul> <h3 id="_3、工作原理"><a href="#_3、工作原理" class="header-anchor">#</a> 3、工作原理</h3> <ul><li><strong>命令在执行之前，需要先检查规则中的依赖是否存在</strong> <ul><li>如果存在，执行命令</li> <li>如果不存在，向下检查其它的规则，检查有没有一个规则是用来生成这个依赖的， 如果找到了，则执行该规则中的命令</li></ul></li> <li><strong>检测更新，在执行规则中的命令时，会比较目标和依赖文件的时间</strong> <ul><li>如果依赖的时间比目标的时间晚，需要重新生成目标</li> <li>如果依赖的时间比目标的时间早，目标不需要更新，对应规则中的命令不需要被执行</li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/Makefile%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.m8ml2gbjvog.webp" alt="Makefile工作原理"></p> <ul><li><ol><li>将 Makefile 写成左边这样</li></ol></li> <li><ol start="2"><li>然后使用<code>make</code> 指令在线 Makefile 文件，因为我们缺乏 .o 的文件，所以就执行了下面的规则，去为我们第一个语句生成我们需要的依赖，然后再执行第一个规则</li></ol></li> <li><ol start="3"><li>执行完第一次 <code>make</code>后再执行一次 <code>make</code> 显示 <strong>“app” 已是最新</strong>，执行规则中的命令时，会比较目标和依赖文件的时间，我们刚执行完第一次 <code>make</code> 后文件都没去改变，所以比较结果就是 <strong>目标文件的时间比依赖文件的时间晚，说明依赖文件没被修改过</strong>，如果已经有目标文件了，然后修改依赖文件，那<strong>依赖文件的时间就比目标文件晚了，说明被修改过</strong></li></ol></li> <li>4、我们修改 <code>main.c</code>文件，然后再执行 <code>make</code>命令，只使用了生成main.o 的规则，和第一条规则，这就是有比较时间的好处（就是不用一次修改就全部重复执行）</li></ul> <h3 id="_4、变量"><a href="#_4、变量" class="header-anchor">#</a> 4、变量</h3> <ul><li>自定义变量 变量名=变量值  <strong>var=hello   $(var)</strong></li> <li>预定义变量
<ul><li>AR : 归档维护程序的名称，默认值为 ar</li> <li>CC : C 编译器的名称，默认值为 cc</li> <li>CXX : C++ 编译器的名称，默认值为 g++</li> <li>$@ : 目标的完整名称</li> <li>$&lt; : 第一个依赖文件的名称</li> <li>$^ : 所有的依赖文件</li></ul></li> <li>获取变量的值 $(变量名)</li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>app:main.c a.c b.c
	gcc <span class="token parameter variable">-c</span> main.c a.c b.c
<span class="token comment">#自动变量只能在规则的命令中使用</span>
app:main.c a.c b.c
	<span class="token variable"><span class="token variable">$(</span>CC<span class="token variable">)</span></span> <span class="token parameter variable">-c</span> $^ <span class="token parameter variable">-o</span> <span class="token variable">$@</span>
<span class="token comment">#@ 就相当于app ，$^ main.c a.c b.c ，$(CC) 就是 gcc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><p><strong>shell 里 #是注释的标识符</strong></p></li> <li><p><strong>注意，命令前必须 tab缩进</strong></p></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/Makefile-%E5%8F%98%E9%87%8F.754wv7te0w00.webp" alt="Makefile-变量"></p> <ul><li><p>上面的<code>$(CC) $(src) -o $(targrt)</code> 也可以写作</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token variable"><span class="token variable">$(</span>CC<span class="token variable">)</span></span> $^ <span class="token parameter variable">-o</span> <span class="token variable">$@</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h3 id="_5、匹配模式"><a href="#_5、匹配模式" class="header-anchor">#</a> 5、匹配模式</h3> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>add.o:add.c
	gcc <span class="token parameter variable">-c</span> add.c
div.o:div.c
	gcc <span class="token parameter variable">-c</span> div.c
sub.o:sub.c
	gcc <span class="token parameter variable">-c</span> sub.c
mult.o:mult.c
	gcc <span class="token parameter variable">-c</span> mult.c
main.o:main.c
	gcc <span class="token parameter variable">-c</span> main.c
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>我们正常是这样写一旦文件较多就很麻烦，所以要所以通配符 <code>%</code></li></ul> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>%.o:%.c
	gcc <span class="token parameter variable">-c</span> $<span class="token operator">&lt;</span> <span class="token parameter variable">-o</span> <span class="token variable">$@</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>%: 通配符，匹配一个字符串
<ul><li>两个%匹配的是同一个字符串</li> <li>一个规则中的两个或多个%，表示的是同一字符串</li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E9%80%9A%E9%85%8D%E7%AC%A6.3t0yq8udgx80.webp" alt="通配符"></p> <h3 id="_6、函数"><a href="#_6、函数" class="header-anchor">#</a> 6、函数</h3> <h4 id="_6-1-获取文件函数"><a href="#_6-1-获取文件函数" class="header-anchor">#</a> 6.1 获取文件函数</h4> <ul><li><strong><code>$(wildcard PATTERN...)</code></strong> <ul><li>功能：<strong>获取指定目录下指定类型的文件列表</strong></li> <li>参数：PATTERN 指的是某个或多个目录下的对应的某种类型的文件，<strong>如果有多个目录，一般使用空格间隔</strong></li> <li>返回：得到的若干个文件的文件列表，文件名之间使用空格间隔</li> <li>示例：
<ul><li><code>$(wildcard *.c ./sub/\*.c)</code></li> <li>返回值格式: a.c b.c c.c d.c e.c f.c</li> <li><strong>就是获取当前目录下和当前目录下sub目录里所有 .c 文件</strong></li></ul></li></ul></li></ul> <h4 id="_6-2-替换字符串函数"><a href="#_6-2-替换字符串函数" class="header-anchor">#</a> 6.2 替换字符串函数</h4> <ul><li><strong><code>$(patsubst &lt;pattern&gt;,&lt;replacement&gt;,&lt;text&gt;)</code></strong> <ul><li>功能：查找<code>&lt;test&gt;</code>中的单词（单词以“空格”、“Tab”或“回车”“换行”分隔）是否符合模式<code>&lt;pattern&gt;</code>，如果匹配的话，则以<code>&lt;replacement&gt;</code>替换。</li> <li><code>&lt;pattern&gt;</code>可以包括通配符<code>%</code>，表示任意长度的字串。如果<code>&lt;replacement&gt;</code> 中也包含<code>%</code>，那么<code>&lt;replacement&gt;</code>中的这个<code>%</code>将是<code>&lt;pattern&gt;</code>中的那个% 所代表的字串。(可以用<code>\</code>来转义，以<code>\%</code>来表示真实含义的<code>%</code>字符)</li> <li>返回：<strong>函数返回被替换过后的字符串</strong></li> <li>示例：
<ul><li><strong><code>$(patsubst %.c, %.o, x.c bar.c)</code></strong></li> <li>返回值格式: x.o bar.o</li> <li><strong><code>x.c</code> 和 <code>bar.c</code> 都和 <code>%.c</code>匹配 ，所以就将其替换为 <code>x.o bar.o</code></strong></li></ul></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E5%87%BD%E6%95%B0.5me22h8dtpo0.webp" alt="函数"></p> <h4 id="_6-3-clean-和-phony"><a href="#_6-3-clean-和-phony" class="header-anchor">#</a> 6.3 clean 和 PHONY</h4> <p><img src="https://jackcin877.github.io/image-hosting/Linux/clean-%E5%92%8C-PHONY.1addij83769s.webp" alt="clean-和-PHONY"></p> <ul><li><p>💙：我们注意到，我们每次执行完 <code>make</code> 都会有很多 <code>.o</code>文件，但是我们其实不需要这些 <code>.o</code>文件，所以有没有上面方法可以执行<code>make</code> 并且删除 <code>.o</code> 文件呢？</p></li> <li><p>💛：我们在 Makefile 里添加黄色框部分内容</p> <ul><li>使用 <code>make</code>执行，表示最新，因为我们 <code>make</code>第一个规则与 <code>clean</code>规则是无关的，第一条规则相关文件都没有发生改变，所以<code>make</code>无效</li></ul></li> <li><p>💚： 这时我们要用**<code>make clean</code>** 指定执行Makefile 里的 <code>clean</code> 规则，可以看到  <strong>.o 文件都被删除了</strong></p></li> <li><p>💜： 重新执行 <code>make</code> ，因为clean 与第一条规则无关，所以不会被执行</p></li> <li><p>🧡： <code>touch clean</code> 我们自己创建一个**<code>clean</code>** 文件 ，再 <code>make clean</code> ，显示最新？</p> <ul><li>原因是：<strong>我们的clean语句是不需要依赖的，但是我们有 clean文件，因为Makefile 检测更新的原理，<code>clean</code>文件始终比依赖晚创建（都没有依赖嘛），所以它更新，因此显示已最新</strong></li></ul></li> <li><p>❤：所以我们必须在 Makefile 里添加 <code>.PHONY:clean</code>语句，表示<code>clean</code>是一个<strong>伪目标，他就不会产生clean目标文件</strong>，就不会和我们文件里clean文件进行对比</p></li></ul> <h2 id="四、gdb调试"><a href="#四、gdb调试" class="header-anchor">#</a> 四、GDB调试</h2> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GDB%E5%90%89%E7%A5%A5%E7%89%A9.2jtqy4xlgri0.webp" alt="GDB吉祥物"></p> <ul><li>GDB的吉祥物，<strong>弓箭鱼</strong>🐟</li></ul> <h3 id="_1、什么是gdb"><a href="#_1、什么是gdb" class="header-anchor">#</a> 1、什么是GDB</h3> <ul><li>GDB 是由 GNU 软件系统社区提供的调试工具，同 GCC 配套组成了一套完整的开发环境，GDB 是 Linux 和许多类 Unix 系统中的标准开发环境。</li> <li>一般来说，GDB 主要帮助你完成下面四个方面的功能：
<ul><li><ol><li><strong>启动程序</strong>，可以按照自定义的要求随心所欲的运行程序</li> <li><strong>可让被调试的程序在所指定的调置的断点处停住</strong>（断点可以是条件表达式）</li> <li><strong>当程序被停住时，可以检查此时程序中所发生的事</strong></li> <li>可以改变程序，将一个 BUG 产生的影响修正从而测试其他 BUG</li></ol></li></ul></li></ul> <h3 id="_2、准备工作"><a href="#_2、准备工作" class="header-anchor">#</a> 2、准备工作</h3> <ul><li>通常，在为调试而编译时，我们会关掉编译器的优化选项（<code>-O</code>）， 并打开调试选项（<code>-g</code>）。另外，<code>-Wall</code>在尽量不影响程序行为的情况下选项打开所有 warning，也可以发现许多问题，避免一些不必要的 BUG。</li> <li><strong><code>gcc -g -Wall program.c -o program</code></strong></li> <li><code>-g</code> 选项的作用是<strong>在可执行文件中加入源代码的信息</strong>，比如可执行文件中第几条机器指令对应源代码的第几行，但并不是把整个源文件嵌入到可执行文件中，所以<strong>在调试时必须保证 gdb 能找到源文件</strong>。</li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GDB-%E6%89%93%E5%BC%80%E9%80%89%E9%A1%B9%EF%BC%88-g%EF%BC%89.10gfygt4z6r4.webp" alt="GDB-打开选项（-g）"></p> <ul><li><strong>因为打开了调试选项（<code>-g</code>），所以文件也会比普通文件更大</strong></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E5%9C%A8%E8%B0%83%E8%AF%95%E6%97%B6%E5%BF%85%E9%A1%BB%E4%BF%9D%E8%AF%81-gdb-%E8%83%BD%E6%89%BE%E5%88%B0%E6%BA%90%E6%96%87%E4%BB%B6.1zqq6ommu81s.webp" alt="在调试时必须保证-gdb-能找到源文件"></p> <ul><li><code>mv test.c test1.c</code>把test.c文件转移到了统一目录下的test1.c里(相当于重命名) ,所以在<code>gdb test</code> 时因为我们找不到 <code>test.c</code>文件了,就出现了上图的问题</li></ul> <h3 id="_3、✨gdb命令-启动-退出-查看"><a href="#_3、✨gdb命令-启动-退出-查看" class="header-anchor">#</a> 3、✨GDB命令 - 启动,退出,查看</h3> <p>一下演示使用的<code>test.c</code>文件代码如下:</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">test</span><span class="token expression"><span class="token punctuation">.</span>c</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
 
<span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;argc = %d\n&quot;</span><span class="token punctuation">,</span> argc<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    <span class="token keyword">if</span><span class="token punctuation">(</span>argc <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        b <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        a <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        b <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a = %d, b = %d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a + b = %d\n&quot;</span><span class="token punctuation">,</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;i = %d\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 函数调用c</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;res value: %d\n&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;THE END !!!\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h4 id="_3-1-启动与退出"><a href="#_3-1-启动与退出" class="header-anchor">#</a> 3.1 启动与退出</h4> <ul><li><p><strong><code>gdb 可执行程序</code></strong></p></li> <li><p><strong><code>quit</code></strong></p> <ul><li>退出gdb，也可以直接写个 <code>q</code></li></ul></li></ul> <h4 id="_3-2-给程序设置参数-获取设置参数"><a href="#_3-2-给程序设置参数-获取设置参数" class="header-anchor">#</a> 3.2 给程序设置参数/获取设置参数</h4> <ul><li><code>set args 10 20</code></li> <li><code>show args</code></li> <li>注意：有一些程序需要设置参数，例如上述的test.c程序，main函数需要指定参数。</li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/gdb-%E5%90%AF%E5%8A%A8%E3%80%81%E9%80%80%E5%87%BA%E3%80%81%E4%BC%A0%E5%8F%82%E3%80%81%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0.2xthnkh7b880.webp" alt="gdb-启动、退出、传参、获取参数"></p> <ul><li>以下是普通文件传参数</li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E6%99%AE%E9%80%9A%E6%96%87%E4%BB%B6%E4%BC%A0%E5%8F%82%E6%95%B0.1it4x79eylnk.webp" alt="普通文件传参数"></p> <h4 id="_3-3-gdb使用帮助"><a href="#_3-3-gdb使用帮助" class="header-anchor">#</a> 3.3 GDB使用帮助</h4> <ul><li><strong><code>help</code></strong></li> <li><code>help 具体命令</code>  如 <code>help set</code></li> <li>需要加入 GDB后才能查看</li></ul> <h4 id="_3-4-查看当前文件代码"><a href="#_3-4-查看当前文件代码" class="header-anchor">#</a> 3.4 查看当前文件代码</h4> <ul><li><strong>普通文件查看代码行数</strong>(还是以test.c 为例)
<ul><li><code>vim test.c</code></li> <li>在命令模式下输入 <code>:set nu</code></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E6%99%AE%E9%80%9A%E6%A8%A1%E5%BC%8F%E6%98%BE%E7%A4%BA%E4%BB%A3%E7%A0%81%E8%A1%8C%E6%95%B0.7jz9z5ndaoc0.webp" alt="普通模式显示代码行数"></p> <ul><li>GDB 查看当前代码
<ul><li><code>list/l</code> （从默认位置显示）
<ul><li>list默认位置显示,每次显示10行</li> <li>蓝色框是按了回车,默认执行上一次执行的命令</li></ul></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GDB%E6%9F%A5%E7%9C%8B%E4%BB%A3%E7%A0%81%EF%BC%8C%E9%BB%98%E8%AE%A4%E6%9F%A5%E7%9C%8B.45soyaqy4ei0.webp" alt="GDB查看代码，默认查看"></p> <ul><li><code>list/l 行号</code> （从指定的行显示）
<ul><li>注意: <strong>是把行号内容放在中间显示</strong></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GDB%E6%8C%89%E8%A1%8C%E6%9F%A5%E6%89%BE.77cxi8x9rg.webp" alt="GDB按行查找"></p> <ul><li><code>list/l 函数名</code>（从指定的函数显示）
<ul><li>注意:<strong>是把函数名行放中间显示</strong></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GDB%E6%8C%89%E5%87%BD%E6%95%B0%E5%90%8D%E6%9F%A5%E6%89%BE.4apmsas6rua0.webp" alt="GDB按函数名查找"></p> <h4 id="_3-5-查看非当前文件代码"><a href="#_3-5-查看非当前文件代码" class="header-anchor">#</a> 3.5 查看非当前文件代码</h4> <ul><li><strong><code>list/l 文件名:行号</code></strong></li> <li><strong><code>list/l 文件名:函数名</code></strong></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E6%9F%A5%E7%9C%8B%E9%9D%9E%E5%BD%93%E5%89%8D%E6%96%87%E4%BB%B6%E4%BB%A3%E7%A0%811.32cg51iqyww0.webp" alt="查看非当前文件代码1"></p> <ul><li>这里我们用的 <strong>cpp 文件</strong>,所以要使用 <code>g++</code></li> <li>进入列表后默认显示的<strong>main文件</strong>,因为我们可执行文件的入口就是<strong>main</strong></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E6%9F%A5%E7%9C%8B%E9%9D%9E%E5%BD%93%E5%89%8D%E6%96%87%E4%BB%B6%E7%9A%84%E4%BB%A3%E7%A0%81.314tu3m6m620.webp" alt="查看非当前文件的代码"></p> <ul><li>两个语句的效果就是,从<code>mian.cpp</code> 里跳到 <strong><code>bubble.cpp</code></strong> 里的第一行,再跳到 <strong><code>select.cpp</code></strong> 里的第10行</li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E6%9F%A5%E7%9C%8B%E9%9D%9E%E5%BD%93%E5%89%8D%E6%96%87%E4%BB%B6%E4%BB%A3%E7%A0%81.329sfl8etuu0.webp" alt="查看非当前文件代码"></p> <ul><li>这里是查看 <code>select.cpp</code> 文件下的 selectSort 函数位置(中间显示)
<ul><li>这里什么还是 <code>select.cpp</code> 文件,其实应该不算非当前文件跳转,不过意思知道就好</li></ul></li> <li>第二个黄色框,我们按的<strong>回车</strong>,<strong>按理说回车应该是执行上次执行的代码</strong>,但是这里其实执行的是<code>list</code>,所以就继续往下显示</li></ul> <h4 id="_3-6-设置显示的行数"><a href="#_3-6-设置显示的行数" class="header-anchor">#</a> 3.6 设置显示的行数</h4> <ul><li>设置显示的行数
<ul><li><strong><code>show list/listsize</code></strong></li> <li><strong><code>set list/listsize 行数</code></strong></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E8%AE%BE%E7%BD%AE%E4%B8%8E%E6%98%BE%E7%A4%BA%E8%A1%8C%E6%95%B0.4eabppw8nto0.webp" alt="设置与显示行数"></p> <ul><li><strong>这里是接着 3.5 最后图片的代码写的</strong></li> <li>💛: 我们在查看非当前文件代码时要加设置行数,不能直接写文件名</li> <li>💦:<strong>查看 显示的行数</strong></li> <li>🪀:<strong>设置显示的行数</strong></li></ul> <h3 id="_4、gdb命令-断点"><a href="#_4、gdb命令-断点" class="header-anchor">#</a> 4、GDB命令 - 断点</h3> <ul><li><strong>设置断点</strong> <ul><li><code>b/break 行号</code></li> <li><code>b/break 函数名</code></li> <li><code>b/break 文件名:行号</code></li> <li><code>b/break 文件名:函数</code> <ul><li>文件:函数名方法打的断点不是在</li></ul></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E8%AE%BE%E7%BD%AE%E6%96%AD%E7%82%B9.51k5lo9agak0.webp" alt="设置断点"></p> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E8%AE%BE%E7%BD%AE%E6%96%AD%E7%82%B92.1i3c7jvurs00.webp" alt="设置断点2"></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>注意<span class="token operator">:</span>上图最后的断点<span class="token punctuation">,</span> b bubble<span class="token punctuation">.</span>cpp<span class="token operator">:</span>bubbleSort 
这里的断点不是打在 定义函数这一行<span class="token punctuation">,</span>而是进入这个函数体的第一行
<span class="token comment">//以下是 bullee.cpp的部分代码,可见,我们断点是打在函数体的第一个语句位置</span>

<span class="token number">1</span>	#include <span class="token string">&quot;sort.h&quot;</span>
<span class="token number">2</span>	#include <span class="token operator">&lt;</span>iostream<span class="token operator">&gt;</span>
<span class="token number">3</span>	
<span class="token number">4</span>	using namespace std<span class="token punctuation">;</span>
<span class="token number">5</span>	
<span class="token number">6</span>	<span class="token keyword">void</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>array<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">7</span>	
<span class="token number">8</span>	    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">9</span>			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">10</span>				<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> 
<span class="token number">11</span>					<span class="token keyword">int</span> temp <span class="token operator">=</span> array<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token number">12</span>					array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token number">13</span>					array<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
<span class="token number">14</span>				<span class="token punctuation">}</span>
<span class="token number">15</span>			<span class="token punctuation">}</span>
<span class="token number">16</span>		<span class="token punctuation">}</span>
<span class="token number">17</span>	
<span class="token number">18</span>	<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><ul><li><strong>查看断点</strong> <ul><li><code>i/info b/break</code></li></ul></li> <li><strong>删除断点</strong> <ul><li><code>d/del/delete 断点编号</code></li> <li><strong>注意删除断点时使用的是断点编号</strong></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E5%88%A0%E9%99%A4%E4%B8%8E%E6%9F%A5%E7%9C%8B%E6%96%AD%E7%82%B9.66kx2p31sys0.webp" alt="删除与查看断点"></p> <ul><li><strong>设置断点无效</strong> <ul><li><code>dis/disable 断点编号</code></li></ul></li> <li><strong>设置断点生效</strong> <ul><li><code>ena/enable 断点编号</code></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E8%AE%BE%E7%BD%AE%E6%96%AD%E7%82%B9%E6%98%AF%E5%90%A6%E7%94%9F%E6%95%88.2w0p8m7rv5m0.webp" alt="设置断点是否生效"></p> <ul><li><strong>设置条件断点</strong>（一般用在循环的位置）
<ul><li><code>b/break 10 if i==5</code></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E8%AE%BE%E7%BD%AE%E6%9D%A1%E4%BB%B6%E6%96%AD%E7%82%B9.5gze6sms4t80.webp" alt="设置条件断点"></p> <h3 id="_5、gdb命令-调试命令"><a href="#_5、gdb命令-调试命令" class="header-anchor">#</a> 5、GDB命令 - 调试命令</h3> <h4 id="_5-1-运行gdb程序"><a href="#_5-1-运行gdb程序" class="header-anchor">#</a> 5.1 运行GDB程序</h4> <ul><li><p><code>start（程序停在第一行）</code></p> <ul><li><strong>想从头开始就用 start</strong></li> <li>执行程序入口就是<code>main()函数</code><strong>,所以start会停在mian()这一行</strong></li></ul></li> <li><p><code>run（遇到断点才停）</code></p> <ul><li><strong>想从第一个断点开始就用 run</strong></li></ul></li> <li><p>这里是<code>gdb main</code>启动调试程序,因为是重新启动,所以之前打的断点就都没了</p></li> <li><p>因为我们这里没断点,所以无论<code>run还是continue</code>都直接到完成执行了</p></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E8%BF%90%E8%A1%8CGDB%E7%A8%8B%E5%BA%8F.4cgjuo9j3fk0.webp" alt="运行GDB程序"></p> <h4 id="_5-2-继续运行-到下一个断点停"><a href="#_5-2-继续运行-到下一个断点停" class="header-anchor">#</a> 5.2 继续运行，到下一个断点停</h4> <ul><li><strong><code>c/continue</code></strong></li></ul> <h4 id="_5-3-向下执行一行代码-不会进入函数体"><a href="#_5-3-向下执行一行代码-不会进入函数体" class="header-anchor">#</a> 5.3 向下执行一行代码（不会进入函数体）</h4> <ul><li><p><strong><code>n/next</code></strong></p> <ul><li><div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">//main.cpp</span>
<span class="token number">8</span>	    <span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token number">9</span>	    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">10</span>	
<span class="token number">11</span>	    <span class="token function">bubbleSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">12</span>	    

    <span class="token comment">//好比我们把断点打在第8行,然后我们run到这个断点,再执行三次next,会发现第二次next是跳到了 14行  </span>
    <span class="token comment">//cout &lt;&lt; &quot;冒泡排序之后的数组: &quot;;</span>
    <span class="token comment">//而不是进入了这个函数体内,step就会进入到函数体里</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>总结:</p> <ul><li><strong>next会 直接执行完函数调用</strong></li> <li><strong>step 会进入函数内部</strong></li></ul></li></ul></li></ul> <h4 id="_5-4-变量操作"><a href="#_5-4-变量操作" class="header-anchor">#</a> <strong>5.4 变量操作</strong></h4> <ul><li><code>p/print 变量名（打印变量值）</code></li> <li><code>ptype 变量名（打印变量类型）</code></li></ul> <h4 id="_5-5-向下单步调试-遇到函数进入函数体"><a href="#_5-5-向下单步调试-遇到函数进入函数体" class="header-anchor">#</a> 5.5 向下单步调试（遇到函数进入函数体）</h4> <ul><li><strong><code>s/step</code></strong></li> <li><code>finish（跳出函数体）</code> <ul><li>注意:<strong>要跳出函数,函数内不能有断点,有断点要先删除断点再跳出</strong></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GDB%E8%BF%9B%E5%85%A5%E4%B8%8E%E9%80%80%E5%87%BA%E5%87%BD%E6%95%B0%E4%BD%93.4bdk5de947s0.webp" alt="GDB进入与退出函数体"></p> <h4 id="_5-6-自动变量操作"><a href="#_5-6-自动变量操作" class="header-anchor">#</a> 5.6 自动变量操作</h4> <ul><li><code>display 变量名（自动打印指定变量的值）</code></li> <li><code>i/info display</code></li> <li><code>undisplay 编号</code></li></ul> <div class="language-c line-numbers-mode"><pre class="language-c"><code>一下我们用test 来测试<span class="token punctuation">,</span>所以我们这里看一下test<span class="token punctuation">.</span>c 文件的代码
  <span class="token number">1</span> #include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">&gt;</span>
  <span class="token number">2</span> #include <span class="token operator">&lt;</span>stdlib<span class="token punctuation">.</span>h<span class="token operator">&gt;</span>
  <span class="token number">3</span> 
  <span class="token number">4</span> <span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token number">1</span> #include <span class="token operator">&lt;</span>stdio<span class="token punctuation">.</span>h<span class="token operator">&gt;</span>
  <span class="token number">2</span> #include <span class="token operator">&lt;</span>stdlib<span class="token punctuation">.</span>h<span class="token operator">&gt;</span>
  <span class="token number">3</span> 
  <span class="token number">4</span> <span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token number">5</span> 
  <span class="token number">6</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token number">7</span>     <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>
  <span class="token number">8</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;argc = %d\n&quot;</span><span class="token punctuation">,</span> argc<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token number">9</span> 
 <span class="token number">10</span>     <span class="token keyword">if</span><span class="token punctuation">(</span>argc <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token number">11</span>         a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
 <span class="token number">12</span>         b <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
 <span class="token number">13</span>     <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
 <span class="token number">14</span>         a <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token number">15</span>         b <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token number">16</span>     <span class="token punctuation">}</span>
 <span class="token number">17</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a = %d, b = %d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token number">18</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a + b = %d\n&quot;</span><span class="token punctuation">,</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token number">19</span> 
 <span class="token number">20</span>     <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token number">21</span>         <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;i = %d\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token number">22</span>         <span class="token comment">// 函数调用</span>
 <span class="token number">23</span>         <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token number">24</span>         <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;res value: %d\n&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token number">25</span>     <span class="token punctuation">}</span>
 <span class="token number">26</span> 
 <span class="token number">27</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;THE END !!!\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token number">28</span>     <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token number">29</span> <span class="token punctuation">}</span>
 <span class="token number">30</span> 
 <span class="token number">31</span> <span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>c
 <span class="token number">32</span>     <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
 <span class="token number">33</span>     <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token number">34</span>         num <span class="token operator">+=</span> i<span class="token punctuation">;</span>
 <span class="token number">35</span>     <span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><ul><li>先打几个断点 , 注意: 第二个断点是条件断点</li> <li><code>run</code> 到第一个断点</li> <li><code>print a</code>和 <code>print b</code> 打印变量a , b 的值</li> <li><code>n</code>进入下一个语句,这里的语句是循环</li> <li><code>display a</code>和  <code>display b</code> 将变量 a 和 b设置为自动显示</li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E8%87%AA%E5%8A%A8%E5%8F%98%E9%87%8F%E6%93%8D%E4%BD%9C1.1f3bo3hctj40.webp" alt="自动变量操作1"></p> <ul><li><code>info display</code> 查看自动变量</li> <li><code>undisplay 1</code> <strong>删除编号为1</strong>的 自动变量</li> <li>注意:红色框执行 <code>next</code>后,<strong>没有自动显示变量是因为,next后进入了 text() 函数,函数内没有 b</strong> (应该是因为没有b?)</li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/%E8%87%AA%E5%8A%A8%E5%8F%98%E9%87%8F%E6%93%8D%E4%BD%9C2.71l7dw483q00.webp" alt="自动变量操作2"></p> <h4 id="_5-7-设置变量值与跳出循环"><a href="#_5-7-设置变量值与跳出循环" class="header-anchor">#</a> 5.7 设置变量值与跳出循环</h4> <ul><li><code>set var 变量名=变量值 （循环中用的较多）</code></li> <li><code>until （跳出循环）</code></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/gdb%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F%E5%80%BC.7cpk5i94hxw0.webp" alt="gdb设置变量值"></p> <h4 id="_5-8-命令测试"><a href="#_5-8-命令测试" class="header-anchor">#</a> 5.8 命令测试</h4> <ul><li>先进入 gdb 打下断点,然后 <code>run</code>到第一个断点处,再使用 <code>continue/c</code>继续运行到下一个断点</li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GDB%E5%91%BD%E4%BB%A4%E6%B5%8B%E8%AF%951.3dlj1wmp0000.webp" alt="GDB命令测试1"></p> <ul><li>接上图,我们跳到了第二个断点处,即<code>bubble.cpp 的 bubbleSort 函数里</code> <ul><li><code>next</code> 向下执行一行代码,所以到了 9</li> <li><code>step/s</code> 向下单步调试 ,就到了 10行
<ul><li><code>step</code> 和 <code>next</code>很像,但是<code>step</code>遇到函数会进入函数体,<code>next</code>不会进入函数体</li></ul></li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GDB%E5%91%BD%E4%BB%A4%E6%B5%8B%E8%AF%952.3nsb2qe2ins0.webp" alt="GDB命令测试2"></p> <ul><li>再次使用 <code>continue/c</code>命令,跳到了第3个断点处
<ul><li><strong>可以看到这个断点是在一个for循环里</strong>,因此我们再使用<code>continue</code>命令,就是进入下次循环的当前位置</li> <li>同时,查看断点会发现,gdb会记录断点被击中次数</li></ul></li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GDB%E5%91%BD%E4%BB%A4%E6%B5%8B%E8%AF%953.2xt3h4r5hf60.webp" alt="GDB命令测试3"></p> <ul><li>注意,下图我们击中2次后继续contimue,那就是击中3次,但是输出i=2是因为,i是从0开始的</li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GDB%E5%91%BD%E4%BB%A4%E6%B5%8B%E8%AF%954.3zg5ozyugiq0.webp" alt="GDB命令测试4"></p> <ul><li>此时,我们不想继续在循环里了,那就要用 <code>until</code>跳出循环
<ul><li>但是这里我们发现我们执行完 <code>until</code>后,到了第15行,就是循环判断这一行,是因为,<strong>我们跳出循环,就是在循环判断失败时跳出</strong></li></ul></li> <li>再执行 step,向下单步调试,又进入到了循环里,为什么呢?
<ul><li>是因为挑出循环需要满足两个条件
<ul><li><ol><li><strong>循环里面不能有断点</strong></li> <li>要执行循环的最后一行，就是循环判断那行(这个我们使用 <code>until</code>就满足了)</li></ol></li></ul></li></ul></li> <li>所以我们必须把循环里的断点删除(<code>delete/del/d 4</code>) ,再 <code>until</code>跳出循环,就成功了</li> <li>使用 <code>step</code>发现成功跳出,继续 <code>continue</code>,无断点了</li></ul> <p><img src="https://jackcin877.github.io/image-hosting/Linux/GDB%E5%91%BD%E4%BB%A4%E6%B5%8B%E8%AF%955.p3mcg5hebgw.webp" alt="GDB命令测试5"></p></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/JackCin877/vuepress-theme-vdoing/edit/master/docs/03.Linux/10.Linux系统编程入门/02.Linux开发工具.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/09/13, 12:29:52</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/vuepress-theme-vdoing/pages/a358ad/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">文件IO</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/vuepress-theme-vdoing/pages/a358ad/">文件IO</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/vuepress-theme-vdoing/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/vuepress-theme-vdoing/pages/188689/"><div>
            51单片机及补充知识
            <!----></div></a> <span class="date">09-13</span></dt></dl><dl><dd>02</dd> <dt><a href="/vuepress-theme-vdoing/pages/b10f7a/"><div>
            独立按键
            <!----></div></a> <span class="date">09-13</span></dt></dl><dl><dd>03</dd> <dt><a href="/vuepress-theme-vdoing/pages/b4d59b/"><div>
            LCD1602液晶显示器
            <!----></div></a> <span class="date">09-13</span></dt></dl> <dl><dd></dd> <dt><a href="/vuepress-theme-vdoing/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:2269233033@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/JackCin877" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2023
    <span>Evan Xu | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/vuepress-theme-vdoing/assets/js/app.ef19247d.js" defer></script><script src="/vuepress-theme-vdoing/assets/js/2.59d30681.js" defer></script><script src="/vuepress-theme-vdoing/assets/js/57.79c5317f.js" defer></script>
  </body>
</html>
